(function(){"use strict";var ui=function(){var s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(o){o=o||{};var r;r||(r=typeof o<"u"?o:{});var c,f;r.ready=new Promise(function(e,t){c=e,f=t});var n={},g;for(g in r)r.hasOwnProperty(g)&&(n[g]=r[g]);var H="./this.program";function ne(e,t){throw t}var J="",ie;J=self.location.href,s&&(J=s),J.indexOf("blob:")!==0?J=J.substr(0,J.lastIndexOf("/")+1):J="",ie=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)};var he=r.print||console.log.bind(console),b=r.printErr||console.warn.bind(console);for(g in n)n.hasOwnProperty(g)&&(r[g]=n[g]);n=null,r.thisProgram&&(H=r.thisProgram),r.quit&&(ne=r.quit);function T(e){y||(y={}),y[e]||(y[e]=1,b(e))}var y,v;r.wasmBinary&&(v=r.wasmBinary);var R=r.noExitRuntime||!0;typeof WebAssembly!="object"&&$("no native wasm support detected");var se,oe=!1,D;function S(e,t){e||$("Assertion failed: "+t)}function fe(e){var t=r["_"+e];return S(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function Oe(e,t,i,a){var _={string:function(A){var M=0;if(A!=null&&A!==0){var B=(A.length<<2)+1;M=_i(B),L(A,Z,M,B)}return M},array:function(A){var M=_i(A.length);return ae.set(A,M),M}},u=fe(e),p=[];if(e=0,a)for(var x=0;x<a.length;x++){var k=_[i[x]];k?(e===0&&(e=fn()),p[x]=k(a[x])):p[x]=a[x]}return i=u.apply(null,p),i=function(A){return t==="string"?ee(A):t==="boolean"?!!A:A}(i),e!==0&&ln(e),i}var Xe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ae(e,t,i){var a=t+i;for(i=t;e[i]&&!(i>=a);)++i;if(16<i-t&&e.subarray&&Xe)return Xe.decode(e.subarray(t,i));for(a="";t<i;){var _=e[t++];if(_&128){var u=e[t++]&63;if((_&224)==192)a+=String.fromCharCode((_&31)<<6|u);else{var p=e[t++]&63;_=(_&240)==224?(_&15)<<12|u<<6|p:(_&7)<<18|u<<12|p<<6|e[t++]&63,65536>_?a+=String.fromCharCode(_):(_-=65536,a+=String.fromCharCode(55296|_>>10,56320|_&1023))}}else a+=String.fromCharCode(_)}return a}function ee(e,t){return e?Ae(Z,e,t):""}function L(e,t,i,a){if(!(0<a))return 0;var _=i;a=i+a-1;for(var u=0;u<e.length;++u){var p=e.charCodeAt(u);if(55296<=p&&57343>=p){var x=e.charCodeAt(++u);p=65536+((p&1023)<<10)|x&1023}if(127>=p){if(i>=a)break;t[i++]=p}else{if(2047>=p){if(i+1>=a)break;t[i++]=192|p>>6}else{if(65535>=p){if(i+2>=a)break;t[i++]=224|p>>12}else{if(i+3>=a)break;t[i++]=240|p>>18,t[i++]=128|p>>12&63}t[i++]=128|p>>6&63}t[i++]=128|p&63}}return t[i]=0,i-_}function Ve(e){for(var t=0,i=0;i<e.length;++i){var a=e.charCodeAt(i);55296<=a&&57343>=a&&(a=65536+((a&1023)<<10)|e.charCodeAt(++i)&1023),127>=a?++t:t=2047>=a?t+2:65535>=a?t+3:t+4}return t}function Ne(e){var t=Ve(e)+1,i=it(t);return i&&L(e,ae,i,t),i}function le(e,t){for(var i=0;i<e.length;++i)ae[t++>>0]=e.charCodeAt(i);ae[t>>0]=0}var ke,ae,Z,ge,Q,m,C,Pe,Te;function Ge(){var e=se.buffer;ke=e,r.HEAP8=ae=new Int8Array(e),r.HEAP16=ge=new Int16Array(e),r.HEAP32=m=new Int32Array(e),r.HEAPU8=Z=new Uint8Array(e),r.HEAPU16=Q=new Uint16Array(e),r.HEAPU32=C=new Uint32Array(e),r.HEAPF32=Pe=new Float32Array(e),r.HEAPF64=Te=new Float64Array(e)}var _e,ze=[],xe=[],ot=[],_t=[];function $e(){var e=r.preRun.shift();ze.unshift(e)}var Le=0,Re=null;function ct(){Le++,r.monitorRunDependencies&&r.monitorRunDependencies(Le)}function je(){if(Le--,r.monitorRunDependencies&&r.monitorRunDependencies(Le),Le==0&&Re){var e=Re;Re=null,e()}}r.preloadedImages={},r.preloadedAudios={};function $(e){throw r.onAbort&&r.onAbort(e),b(e),oe=!0,D=1,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),f(e),e}var Fe="zappar-cv.wasm";if(String.prototype.startsWith?!Fe.startsWith("data:application/octet-stream;base64,"):Fe.indexOf("data:application/octet-stream;base64,")!==0){var ut=Fe;Fe=r.locateFile?r.locateFile(ut,J):J+ut}function ft(e){var t=Fe;try{e:{try{if(t==Fe&&v){var i=new Uint8Array(v);break e}if(ie){i=ie(t);break e}throw"sync fetching of the wasm failed: you can preload it to Module['wasmBinary'] manually, or emcc.py will do that for you when generating HTML (but not JS)"}catch(u){$(u)}i=void 0}var a=new WebAssembly.Module(i),_=new WebAssembly.Instance(a,e)}catch(u){throw e=u.toString(),b("failed to compile wasm module: "+e),(0<=e.indexOf("imported Memory")||0<=e.indexOf("memory import"))&&b("Memory size incompatibility issues may be due to changing INITIAL_MEMORY at runtime to something too large. Use ALLOW_MEMORY_GROWTH to allow any size memory (and also make sure not to set INITIAL_MEMORY at runtime to something smaller than it was at compile time)."),u}return[_,a]}var G,K,We={490708:function(){if(self.crypto&&self.crypto.getRandomValues){var e=new Uint32Array(1);return self.crypto.getRandomValues(e),e[0]}return 9007199254740991*Math.random()}};function Se(e){for(;0<e.length;){var t=e.shift();if(typeof t=="function")t(r);else{var i=t.wd;typeof i=="number"?t.Pc===void 0?_e.get(i)():_e.get(i)(t.Pc):i(t.Pc===void 0?null:t.Pc)}}}var V;V=function(){return performance.now()};function j(e,t){if(e===0)e=Date.now();else if(e===1||e===4)e=V();else return m[oi()>>2]=28,-1;return m[t>>2]=e/1e3|0,m[t+4>>2]=e%1e3*1e6|0,0}function Y(e){this.Ic=e-16,this.Nd=function(t){m[this.Ic+8>>2]=t},this.Kd=function(t){m[this.Ic+0>>2]=t},this.Ld=function(){m[this.Ic+4>>2]=0},this.Jd=function(){ae[this.Ic+12>>0]=0},this.Md=function(){ae[this.Ic+13>>0]=0},this.zd=function(t,i){this.Nd(t),this.Kd(i),this.Ld(),this.Jd(),this.Md()}}function re(e,t){for(var i=0,a=e.length-1;0<=a;a--){var _=e[a];_==="."?e.splice(a,1):_===".."?(e.splice(a,1),i++):i&&(e.splice(a,1),i--)}if(t)for(;i;i--)e.unshift("..");return e}function U(e){var t=e.charAt(0)==="/",i=e.substr(-1)==="/";return(e=re(e.split("/").filter(function(a){return!!a}),!t).join("/"))||t||(e="."),e&&i&&(e+="/"),(t?"/":"")+e}function pe(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)}function N(e){if(e==="/")return"/";e=U(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)}function qe(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){$("randomDevice")}}function ce(){for(var e="",t=!1,i=arguments.length-1;-1<=i&&!t;i--){if(t=0<=i?arguments[i]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=re(e.split("/").filter(function(a){return!!a}),!t).join("/"),(t?"/":"")+e||"."}var Be=[];function w(e,t){Be[e]={input:[],xc:[],Hc:t},cr(e,h)}var h={open:function(e){var t=Be[e.node.Mc];if(!t)throw new E(43);e.vc=t,e.seekable=!1},close:function(e){e.vc.Hc.flush(e.vc)},flush:function(e){e.vc.Hc.flush(e.vc)},read:function(e,t,i,a){if(!e.vc||!e.vc.Hc.jd)throw new E(60);for(var _=0,u=0;u<a;u++){try{var p=e.vc.Hc.jd(e.vc)}catch{throw new E(29)}if(p===void 0&&_===0)throw new E(6);if(p==null)break;_++,t[i+u]=p}return _&&(e.node.timestamp=Date.now()),_},write:function(e,t,i,a){if(!e.vc||!e.vc.Hc.ad)throw new E(60);try{for(var _=0;_<a;_++)e.vc.Hc.ad(e.vc,t[i+_])}catch{throw new E(29)}return a&&(e.node.timestamp=Date.now()),_}},F={jd:function(e){if(!e.input.length){var t=null;if(typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`)),!t)return null;e.input=si(t,!0)}return e.input.shift()},ad:function(e,t){t===null||t===10?(he(Ae(e.xc,0)),e.xc=[]):t!=0&&e.xc.push(t)},flush:function(e){e.xc&&0<e.xc.length&&(he(Ae(e.xc,0)),e.xc=[])}},P={ad:function(e,t){t===null||t===10?(b(Ae(e.xc,0)),e.xc=[]):t!=0&&e.xc.push(t)},flush:function(e){e.xc&&0<e.xc.length&&(b(Ae(e.xc,0)),e.xc=[])}},z={Ac:null,Cc:function(){return z.createNode(null,"/",16895,0)},createNode:function(e,t,i,a){if((i&61440)===24576||(i&61440)===4096)throw new E(63);return z.Ac||(z.Ac={dir:{node:{zc:z.rc.zc,Bc:z.rc.Bc,Kc:z.rc.Kc,Rc:z.rc.Rc,od:z.rc.od,Xc:z.rc.Xc,pd:z.rc.pd,Sc:z.rc.Sc,Tc:z.rc.Tc},stream:{Fc:z.tc.Fc}},file:{node:{zc:z.rc.zc,Bc:z.rc.Bc},stream:{Fc:z.tc.Fc,read:z.tc.read,write:z.tc.write,dd:z.tc.dd,kd:z.tc.kd,md:z.tc.md}},link:{node:{zc:z.rc.zc,Bc:z.rc.Bc,Nc:z.rc.Nc},stream:{}},ed:{node:{zc:z.rc.zc,Bc:z.rc.Bc},stream:Oi}}),i=St(e,t,i,a),(i.mode&61440)===16384?(i.rc=z.Ac.dir.node,i.tc=z.Ac.dir.stream,i.sc={}):(i.mode&61440)===32768?(i.rc=z.Ac.file.node,i.tc=z.Ac.file.stream,i.uc=0,i.sc=null):(i.mode&61440)===40960?(i.rc=z.Ac.link.node,i.tc=z.Ac.link.stream):(i.mode&61440)===8192&&(i.rc=z.Ac.ed.node,i.tc=z.Ac.ed.stream),i.timestamp=Date.now(),e&&(e.sc[t]=i,e.timestamp=i.timestamp),i},Zd:function(e){return e.sc?e.sc.subarray?e.sc.subarray(0,e.uc):new Uint8Array(e.sc):new Uint8Array(0)},fd:function(e,t){var i=e.sc?e.sc.length:0;i>=t||(t=Math.max(t,i*(1048576>i?2:1.125)>>>0),i!=0&&(t=Math.max(t,256)),i=e.sc,e.sc=new Uint8Array(t),0<e.uc&&e.sc.set(i.subarray(0,e.uc),0))},Hd:function(e,t){if(e.uc!=t)if(t==0)e.sc=null,e.uc=0;else{var i=e.sc;e.sc=new Uint8Array(t),i&&e.sc.set(i.subarray(0,Math.min(t,e.uc))),e.uc=t}},rc:{zc:function(e){var t={};return t.ud=(e.mode&61440)===8192?e.id:1,t.$c=e.id,t.mode=e.mode,t.Fd=1,t.uid=0,t.xd=0,t.Mc=e.Mc,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.uc:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.qd=new Date(e.timestamp),t.Ed=new Date(e.timestamp),t.td=new Date(e.timestamp),t.rd=4096,t.sd=Math.ceil(t.size/t.rd),t},Bc:function(e,t){t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&z.Hd(e,t.size)},Kc:function(){throw et[44]},Rc:function(e,t,i,a){return z.createNode(e,t,i,a)},od:function(e,t,i){if((e.mode&61440)===16384){try{var a=Ye(t,i)}catch{}if(a)for(var _ in a.sc)throw new E(55)}delete e.parent.sc[e.name],e.parent.timestamp=Date.now(),e.name=i,t.sc[i]=e,t.timestamp=e.parent.timestamp,e.parent=t},Xc:function(e,t){delete e.sc[t],e.timestamp=Date.now()},pd:function(e,t){var i=Ye(e,t),a;for(a in i.sc)throw new E(55);delete e.sc[t],e.timestamp=Date.now()},Sc:function(e){var t=[".",".."],i;for(i in e.sc)e.sc.hasOwnProperty(i)&&t.push(i);return t},Tc:function(e,t,i){return e=z.createNode(e,t,41471,0),e.link=i,e},Nc:function(e){if((e.mode&61440)!==40960)throw new E(28);return e.link}},tc:{read:function(e,t,i,a,_){var u=e.node.sc;if(_>=e.node.uc)return 0;if(e=Math.min(e.node.uc-_,a),8<e&&u.subarray)t.set(u.subarray(_,_+e),i);else for(a=0;a<e;a++)t[i+a]=u[_+a];return e},write:function(e,t,i,a,_,u){if(t.buffer===ae.buffer&&(u=!1),!a)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.sc||e.sc.subarray)){if(u)return e.sc=t.subarray(i,i+a),e.uc=a;if(e.uc===0&&_===0)return e.sc=t.slice(i,i+a),e.uc=a;if(_+a<=e.uc)return e.sc.set(t.subarray(i,i+a),_),a}if(z.fd(e,_+a),e.sc.subarray&&t.subarray)e.sc.set(t.subarray(i,i+a),_);else for(u=0;u<a;u++)e.sc[_+u]=t[i+u];return e.uc=Math.max(e.uc,_+a),a},Fc:function(e,t,i){if(i===1?t+=e.position:i===2&&(e.node.mode&61440)===32768&&(t+=e.node.uc),0>t)throw new E(28);return t},dd:function(e,t,i){z.fd(e.node,t+i),e.node.uc=Math.max(e.node.uc,t+i)},kd:function(e,t,i,a,_,u){if(t!==0)throw new E(28);if((e.node.mode&61440)!==32768)throw new E(43);if(e=e.node.sc,u&2||e.buffer!==ke){for((0<a||a+i<e.length)&&(e.subarray?e=e.subarray(a,a+i):e=Array.prototype.slice.call(e,a,a+i)),a=!0,u=16384*Math.ceil(i/16384),t=it(u);i<u;)ae[t+i++]=0;if(i=t,!i)throw new E(48);ae.set(e,i)}else a=!1,i=e.byteOffset;return{Ic:i,Vd:a}},md:function(e,t,i,a,_){if((e.node.mode&61440)!==32768)throw new E(43);return _&2||z.tc.write(e,t,0,a,i,!1),0}}},Me=null,De={},ye=[],Ze=1,de=null,lt=!0,Ie={},E=null,et={};function me(e,t){if(e=ce("/",e),t=t||{},!e)return{path:"",node:null};var i={gd:!0,bd:0},a;for(a in i)t[a]===void 0&&(t[a]=i[a]);if(8<t.bd)throw new E(32);e=re(e.split("/").filter(function(p){return!!p}),!1);var _=Me;for(i="/",a=0;a<e.length;a++){var u=a===e.length-1;if(u&&t.parent)break;if(_=Ye(_,e[a]),i=U(i+"/"+e[a]),_.Lc&&(!u||u&&t.gd)&&(_=_.Lc.root),!u||t.Qc){for(u=0;(_.mode&61440)===40960;)if(_=Pi(i),i=ce(pe(i),_),_=me(i,{bd:t.bd}).node,40<u++)throw new E(32)}}return{path:i,node:_}}function pt(e){for(var t;;){if(e===e.parent)return e=e.Cc.ld,t?e[e.length-1]!=="/"?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function dt(e,t){for(var i=0,a=0;a<t.length;a++)i=(i<<5)-i+t.charCodeAt(a)|0;return(e+i>>>0)%de.length}function Ye(e,t){var i;if(i=(i=ht(e,"x"))?i:e.rc.Kc?0:2)throw new E(i,e);for(i=de[dt(e.id,t)];i;i=i.Gc){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return e.rc.Kc(e,t)}function St(e,t,i,a){return e=new ai(e,t,i,a),t=dt(e.parent.id,e.name),e.Gc=de[t],de[t]=e}var Bt={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090};function _r(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t}function ht(e,t){if(lt)return 0;if(t.indexOf("r")===-1||e.mode&292){if(t.indexOf("w")!==-1&&!(e.mode&146)||t.indexOf("x")!==-1&&!(e.mode&73))return 2}else return 2;return 0}function Ur(e,t){try{return Ye(e,t),20}catch{}return ht(e,"wx")}function Mi(e){var t=4096;for(e=e||0;e<=t;e++)if(!ye[e])return e;throw new E(33)}function Ii(e,t){Vt||(Vt=function(){},Vt.prototype={});var i=new Vt,a;for(a in e)i[a]=e[a];return e=i,t=Mi(t),e.Dc=t,ye[t]=e}var Oi={open:function(e){e.tc=De[e.node.Mc].tc,e.tc.open&&e.tc.open(e)},Fc:function(){throw new E(70)}};function cr(e,t){De[e]={tc:t}}function Vr(e,t){var i=t==="/",a=!t;if(i&&Me)throw new E(10);if(!i&&!a){var _=me(t,{gd:!1});if(t=_.path,_=_.node,_.Lc)throw new E(10);if((_.mode&61440)!==16384)throw new E(54)}t={type:e,ce:{},ld:t,Dd:[]},e=e.Cc(t),e.Cc=t,t.root=e,i?Me=e:_&&(_.Lc=t,_.Cc&&_.Cc.Dd.push(t))}function ur(e,t,i){var a=me(e,{parent:!0}).node;if(e=N(e),!e||e==="."||e==="..")throw new E(28);var _=Ur(a,e);if(_)throw new E(_);if(!a.rc.Rc)throw new E(63);return a.rc.Rc(a,e,t,i)}function Ke(e){return ur(e,16895,0)}function Dt(e,t,i){typeof i>"u"&&(i=t,t=438),ur(e,t|8192,i)}function Ct(e,t){if(!ce(e))throw new E(44);var i=me(t,{parent:!0}).node;if(!i)throw new E(44);t=N(t);var a=Ur(i,t);if(a)throw new E(a);if(!i.rc.Tc)throw new E(63);i.rc.Tc(i,t,e)}function Pi(e){if(e=me(e).node,!e)throw new E(44);if(!e.rc.Nc)throw new E(28);return ce(pt(e.parent),e.rc.Nc(e))}function Nr(e,t){if(e=me(e,{Qc:!t}).node,!e)throw new E(44);if(!e.rc.zc)throw new E(63);return e.rc.zc(e)}function Si(e){return Nr(e,!0)}function vt(e,t,i,a){if(e==="")throw new E(44);if(typeof t=="string"){var _=Bt[t];if(typeof _>"u")throw Error("Unknown file open mode: "+t);t=_}if(i=t&64?(typeof i>"u"?438:i)&4095|32768:0,typeof e=="object")var u=e;else{e=U(e);try{u=me(e,{Qc:!(t&131072)}).node}catch{}}if(_=!1,t&64)if(u){if(t&128)throw new E(20)}else u=ur(e,i,0),_=!0;if(!u)throw new E(44);if((u.mode&61440)===8192&&(t&=-513),t&65536&&(u.mode&61440)!==16384)throw new E(54);if(!_&&(i=u?(u.mode&61440)===40960?32:(u.mode&61440)===16384&&(_r(t)!=="r"||t&512)?31:ht(u,_r(t)):44))throw new E(i);if(t&512){if(i=u,i=typeof i=="string"?me(i,{Qc:!0}).node:i,!i.rc.Bc)throw new E(63);if((i.mode&61440)===16384)throw new E(31);if((i.mode&61440)!==32768)throw new E(28);if(_=ht(i,"w"))throw new E(_);i.rc.Bc(i,{size:0,timestamp:Date.now()})}t&=-131713,a=Ii({node:u,path:pt(u),flags:t,seekable:!0,position:0,tc:u.tc,Sd:[],error:!1},a),a.tc.open&&a.tc.open(a),!r.logReadFiles||t&1||(Nt||(Nt={}),e in Nt||(Nt[e]=1,b("FS.trackingDelegate error on read file: "+e)));try{Ie.onOpenFile&&(u=0,(t&2097155)!==1&&(u|=1),t&2097155&&(u|=2),Ie.onOpenFile(e,u))}catch(p){b("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+p.message)}return a}function Ut(e,t,i){if(e.Dc===null)throw new E(8);if(!e.seekable||!e.tc.Fc)throw new E(70);if(i!=0&&i!=1&&i!=2)throw new E(28);return e.position=e.tc.Fc(e,t,i),e.Sd=[],e.position}function Gr(){E||(E=function(e,t){this.node=t,this.Id=function(i){this.wc=i},this.Id(e),this.message="FS error"},E.prototype=Error(),E.prototype.constructor=E,[44].forEach(function(e){et[e]=new E(e),et[e].stack="<generic error, no stack>"}))}var Wr;function Bi(e,t){var i=0;return e&&(i|=365),t&&(i|=146),i}function Et(e,t,i){e=U("/dev/"+e);var a=Bi(!!t,!!i);fr||(fr=64);var _=fr++<<8|0;cr(_,{open:function(u){u.seekable=!1},close:function(){i&&i.buffer&&i.buffer.length&&i(10)},read:function(u,p,x,k){for(var A=0,M=0;M<k;M++){try{var B=t()}catch{throw new E(29)}if(B===void 0&&A===0)throw new E(6);if(B==null)break;A++,p[x+M]=B}return A&&(u.node.timestamp=Date.now()),A},write:function(u,p,x,k){for(var A=0;A<k;A++)try{i(p[x+A])}catch{throw new E(29)}return k&&(u.node.timestamp=Date.now()),A}}),Dt(e,a,_)}var fr,we={},Vt,Nt;function Yr(e,t,i){try{var a=e(t)}catch(_){if(_&&_.node&&U(t)!==U(pt(_.node)))return-54;throw _}return m[i>>2]=a.ud,m[i+4>>2]=0,m[i+8>>2]=a.$c,m[i+12>>2]=a.mode,m[i+16>>2]=a.Fd,m[i+20>>2]=a.uid,m[i+24>>2]=a.xd,m[i+28>>2]=a.Mc,m[i+32>>2]=0,K=[a.size>>>0,(G=a.size,1<=+Math.abs(G)?0<G?(Math.min(+Math.floor(G/4294967296),4294967295)|0)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],m[i+40>>2]=K[0],m[i+44>>2]=K[1],m[i+48>>2]=4096,m[i+52>>2]=a.sd,m[i+56>>2]=a.qd.getTime()/1e3|0,m[i+60>>2]=0,m[i+64>>2]=a.Ed.getTime()/1e3|0,m[i+68>>2]=0,m[i+72>>2]=a.td.getTime()/1e3|0,m[i+76>>2]=0,K=[a.$c>>>0,(G=a.$c,1<=+Math.abs(G)?0<G?(Math.min(+Math.floor(G/4294967296),4294967295)|0)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],m[i+80>>2]=K[0],m[i+84>>2]=K[1],0}var At=void 0;function mt(){return At+=4,m[At-4>>2]}function tt(e){if(e=ye[e],!e)throw new E(8);return e}function Di(e,t){if(Wt=e,Yt=t,Tt){if(e==0)rt=function(){var a=Math.max(0,Xr+t-V())|0;setTimeout(xt,a)};else if(e==1)rt=function(){pr(xt)};else if(e==2){if(typeof setImmediate>"u"){var i=[];addEventListener("message",function(a){(a.data==="setimmediate"||a.data.target==="setimmediate")&&(a.stopPropagation(),i.shift()())},!0),setImmediate=function(a){i.push(a),r.setImmediates===void 0&&(r.setImmediates=[]),r.setImmediates.push(a),postMessage({target:"setimmediate"})}}rt=function(){setImmediate(xt)}}}}function Ci(e){function t(){if(i<Gt){if(!R)try{ci(D)}catch(a){if(!(a instanceof Er))throw a}return!1}return!0}S(!Tt,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Tt=e;var i=Gt;xt=function(){if(!oe)if(0<Hr.length){var a=Date.now(),_=Hr.shift();_.wd(_.Pc);var u;console.log('main loop blocker "'+_.name+'" took '+(Date.now()-a)+" ms"),r.setStatus&&(a=r.statusMessage||"Please wait...",_=Vi,u=Ui.Yd,_?_<u?r.setStatus(a+" ("+(u-_)+"/"+u+")"):r.setStatus(a):r.setStatus("")),t()&&setTimeout(xt,0)}else t()&&(lr=lr+1|0,Wt==1&&1<Yt&&lr%Yt!=0?rt():(Wt==0&&(Xr=V()),oe||r.preMainLoop&&r.preMainLoop()===!1||(Je(e),r.postMainLoop&&r.postMainLoop()),t()&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.Gd&&SDL.audio.Gd(),rt())))}}function Je(e){try{e()}catch(t){if(!(t instanceof Er)&&t!=="unwind")throw t&&typeof t=="object"&&t.stack&&b("exception thrown: "+[t,t.stack]),t}}var rt=null,Gt=0,Tt=null,Wt=0,Yt=0,lr=0,Hr=[],Ui={},Xr,xt,Vi,Rt=!1,jr=!1,Ni=[];function Gi(){function e(){jr=document.pointerLockElement===r.canvas||document.mozPointerLockElement===r.canvas||document.webkitPointerLockElement===r.canvas||document.msPointerLockElement===r.canvas}if(r.preloadPlugins||(r.preloadPlugins=[]),!Kr){Kr=!0;try{Lt=!0}catch{Lt=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Jr=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:Lt?null:console.log("warning: no BlobBuilder"),Ft=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,r.nd||typeof Ft<"u"||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),r.nd=!0),r.preloadPlugins.push({canHandle:function(i){return!r.nd&&/\.(jpg|jpeg|png|bmp)$/i.test(i)},handle:function(i,a,_,u){var p=null;if(Lt)try{p=new Blob([i],{type:dr(a)}),p.size!==i.length&&(p=new Blob([new Uint8Array(i).buffer],{type:dr(a)}))}catch(A){T("Blob constructor present but fails: "+A+"; falling back to blob builder")}p||(p=new Jr,p.append(new Uint8Array(i).buffer),p=p.getBlob());var x=Ft.createObjectURL(p),k=new Image;k.onload=function(){S(k.complete,"Image "+a+" could not be decoded");var A=document.createElement("canvas");A.width=k.width,A.height=k.height,A.getContext("2d").drawImage(k,0,0),r.preloadedImages[a]=A,Ft.revokeObjectURL(x),_&&_(i)},k.onerror=function(){console.log("Image "+x+" could not be decoded"),u&&u()},k.src=x}}),r.preloadPlugins.push({canHandle:function(i){return!r.be&&i.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(i,a,_,u){function p(B){k||(k=!0,r.preloadedAudios[a]=B,_&&_(i))}function x(){k||(k=!0,r.preloadedAudios[a]=new Audio,u&&u())}var k=!1;if(Lt){try{var A=new Blob([i],{type:dr(a)})}catch{return x()}A=Ft.createObjectURL(A);var M=new Audio;M.addEventListener("canplaythrough",function(){p(M)},!1),M.onerror=function(){if(!k){console.log("warning: browser could not fully decode audio "+a+", trying slower base64 approach");for(var B="",q=0,l=0,I=0;I<i.length;I++)for(q=q<<8|i[I],l+=8;6<=l;){var W=q>>l-6&63;l-=6,B+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[W]}l==2?(B+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(q&3)<<4],B+="=="):l==4&&(B+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(q&15)<<2],B+="="),M.src="data:audio/x-"+a.substr(-3)+";base64,"+B,p(M)}},M.src=A,Zr(function(){p(M)},1e4)}else return x()}});var t=r.canvas;t&&(t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock||t.msRequestPointerLock||function(){},t.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},t.exitPointerLock=t.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",e,!1),document.addEventListener("mozpointerlockchange",e,!1),document.addEventListener("webkitpointerlockchange",e,!1),document.addEventListener("mspointerlockchange",e,!1),r.elementPointerLock&&t.addEventListener("click",function(i){!jr&&r.canvas.requestPointerLock&&(r.canvas.requestPointerLock(),i.preventDefault())},!1))}}function Wi(e,t,i,a){if(t&&r.Zc&&e==r.canvas)return r.Zc;var _;if(t){var u={antialias:!1,alpha:!1,Cd:1};if(a)for(var p in a)u[p]=a[p];if(typeof nn<"u"&&(_=en(e,u)))var x=Xt[_].Yc}else x=e.getContext("2d");return x?(i&&(t||S(typeof bt>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),r.Zc=x,t&&(jt=Xt[_],r.Zc=bt=jt&&jt.Yc),r.fe=t,Ni.forEach(function(k){k()}),Gi()),x):null}var qr=!1,Ht=void 0,wt=void 0;function Yi(e,t){function i(){Rt=!1;var u=a.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===u?(a.exitFullscreen=Hi,Ht&&a.requestPointerLock(),Rt=!0,wt?(typeof SDL<"u"&&(m[SDL.screen>>2]=C[SDL.screen>>2]|8388608),zt(r.canvas),hr()):zt(a)):(u.parentNode.insertBefore(a,u),u.parentNode.removeChild(u),wt?(typeof SDL<"u"&&(m[SDL.screen>>2]=C[SDL.screen>>2]&-8388609),zt(r.canvas),hr()):zt(a)),r.onFullScreen&&r.onFullScreen(Rt),r.onFullscreen&&r.onFullscreen(Rt)}Ht=e,wt=t,typeof Ht>"u"&&(Ht=!0),typeof wt>"u"&&(wt=!1);var a=r.canvas;qr||(qr=!0,document.addEventListener("fullscreenchange",i,!1),document.addEventListener("mozfullscreenchange",i,!1),document.addEventListener("webkitfullscreenchange",i,!1),document.addEventListener("MSFullscreenChange",i,!1));var _=document.createElement("div");a.parentNode.insertBefore(_,a),_.appendChild(a),_.requestFullscreen=_.requestFullscreen||_.mozRequestFullScreen||_.msRequestFullscreen||(_.webkitRequestFullscreen?function(){_.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(_.webkitRequestFullScreen?function(){_.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),_.requestFullscreen()}function Hi(){return Rt?((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0):!1}var kt=0;function pr(e){if(typeof requestAnimationFrame=="function")requestAnimationFrame(e);else{var t=Date.now();if(kt===0)kt=t+16.666666666666668;else for(;t+2>=kt;)kt+=16.666666666666668;setTimeout(e,Math.max(kt-t,0))}}function Xi(e){pr(function(){Je(e)})}function Zr(e,t){setTimeout(function(){Je(e)},t)}function dr(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]}var ji=[];function hr(){var e=r.canvas;ji.forEach(function(t){t(e.width,e.height)})}function zt(e,t,i){t&&i?(e.Td=t,e.yd=i):(t=e.Td,i=e.yd);var a=t,_=i;if(r.forcedAspectRatio&&0<r.forcedAspectRatio&&(a/_<r.forcedAspectRatio?a=Math.round(_*r.forcedAspectRatio):_=Math.round(a/r.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen<"u"){var u=Math.min(screen.width/a,screen.height/_);a=Math.round(a*u),_=Math.round(_*u)}wt?(e.width!=a&&(e.width=a),e.height!=_&&(e.height=_),typeof e.style<"u"&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=i&&(e.height=i),typeof e.style<"u"&&(a!=t||_!=i?(e.style.setProperty("width",a+"px","important"),e.style.setProperty("height",_+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}var Kr,Lt,Jr,Ft;function Qr(){return!1}r._emscripten_is_main_browser_thread=Qr;var mr=[];function ve(e,t){C[e>>2]=t,C[e+4>>2]=t/4294967296|0}var Mt;function wr(e,t,i,a,_){function u(X){var Ee=0,be=0;X&&(be=O.response?O.response.byteLength:0,Ee=it(be),Z.set(new Uint8Array(O.response),Ee)),C[e+12>>2]=Ee,ve(e+16,be)}var p=C[e+8>>2];if(p){var x=ee(p),k=e+112,A=ee(k);A||(A="GET");var M=C[k+52>>2],B=C[k+56>>2],q=!!C[k+60>>2],l=C[k+68>>2],I=C[k+72>>2];p=C[k+76>>2];var W=C[k+80>>2],ue=C[k+84>>2];k=C[k+88>>2];var He=!!(M&1),Qe=!!(M&2);M=!!(M&64),l=l?ee(l):void 0,I=I?ee(I):void 0;var er=W?ee(W):void 0,O=new XMLHttpRequest;if(O.withCredentials=q,O.open(A,x,!M,l,I),M||(O.timeout=B),O.de=x,O.responseType="arraybuffer",W&&O.overrideMimeType(er),p)for(;A=C[p>>2],!(!A||(x=C[p+4>>2],!x));)p+=8,A=ee(A),x=ee(x),O.setRequestHeader(A,x);mr.push(O),C[e+0>>2]=mr.length,p=ue&&k?Z.slice(ue,ue+k):null,O.onload=function(X){u(He&&!Qe);var Ee=O.response?O.response.byteLength:0;ve(e+24,0),Ee&&ve(e+32,Ee),Q[e+40>>1]=O.readyState,Q[e+42>>1]=O.status,O.statusText&&L(O.statusText,Z,e+44,64),200<=O.status&&300>O.status?t&&t(e,O,X):i&&i(e,O,X)},O.onerror=function(X){u(He);var Ee=O.status;ve(e+24,0),ve(e+32,O.response?O.response.byteLength:0),Q[e+40>>1]=O.readyState,Q[e+42>>1]=Ee,i&&i(e,O,X)},O.ontimeout=function(X){i&&i(e,O,X)},O.onprogress=function(X){var Ee=He&&Qe&&O.response?O.response.byteLength:0,be=0;He&&Qe&&(be=it(Ee),Z.set(new Uint8Array(O.response),be)),C[e+12>>2]=be,ve(e+16,Ee),ve(e+24,X.loaded-Ee),ve(e+32,X.total),Q[e+40>>1]=O.readyState,3<=O.readyState&&O.status===0&&0<X.loaded&&(O.status=200),Q[e+42>>1]=O.status,O.statusText&&L(O.statusText,Z,e+44,64),a&&a(e,O,X),be&&_n(be)},O.onreadystatechange=function(X){Q[e+40>>1]=O.readyState,2<=O.readyState&&(Q[e+42>>1]=O.status),_&&_(e,O,X)};try{O.send(p)}catch(X){i&&i(e,O,X)}}else i(e,0,"no url specified!")}function $r(e,t,i,a){var _=Mt;if(_){var u=C[e+112+64>>2];u||(u=C[e+8>>2]);var p=ee(u);try{var x=_.transaction(["FILES"],"readwrite").objectStore("FILES").put(t,p);x.onsuccess=function(){Q[e+40>>1]=4,Q[e+42>>1]=200,L("OK",Z,e+44,64),i(e,0,p)},x.onerror=function(k){Q[e+40>>1]=4,Q[e+42>>1]=413,L("Payload Too Large",Z,e+44,64),a(e,0,k)}}catch(k){a(e,0,k)}}else a(e,0,"IndexedDB not available!")}function qi(e,t,i){var a=Mt;if(a){var _=C[e+112+64>>2];_||(_=C[e+8>>2]),_=ee(_);try{var u=a.transaction(["FILES"],"readonly").objectStore("FILES").get(_);u.onsuccess=function(p){if(p.target.result){p=p.target.result;var x=p.byteLength||p.length,k=it(x);Z.set(new Uint8Array(p),k),C[e+12>>2]=k,ve(e+16,x),ve(e+24,0),ve(e+32,x),Q[e+40>>1]=4,Q[e+42>>1]=200,L("OK",Z,e+44,64),t(e,0,p)}else Q[e+40>>1]=4,Q[e+42>>1]=404,L("Not Found",Z,e+44,64),i(e,0,"no data")},u.onerror=function(p){Q[e+40>>1]=4,Q[e+42>>1]=404,L("Not Found",Z,e+44,64),i(e,0,p)}}catch(p){i(e,0,p)}}else i(e,0,"IndexedDB not available!")}function Zi(e,t,i){var a=Mt;if(a){var _=C[e+112+64>>2];_||(_=C[e+8>>2]),_=ee(_);try{var u=a.transaction(["FILES"],"readwrite").objectStore("FILES").delete(_);u.onsuccess=function(p){p=p.target.result,C[e+12>>2]=0,ve(e+16,0),ve(e+24,0),ve(e+32,0),Q[e+40>>1]=4,Q[e+42>>1]=200,L("OK",Z,e+44,64),t(e,0,p)},u.onerror=function(p){Q[e+40>>1]=4,Q[e+42>>1]=404,L("Not Found",Z,e+44,64),i(e,0,p)}}catch(p){i(e,0,p)}}else i(e,0,"IndexedDB not available!")}var ei={};function ti(){if(!br){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:H||"./this.program"},t;for(t in ei)e[t]=ei[t];var i=[];for(t in e)i.push(t+"="+e[t]);br=i}return br}var br;function Ki(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(i,a){t.vertexAttribDivisorANGLE(i,a)},e.drawArraysInstanced=function(i,a,_,u){t.drawArraysInstancedANGLE(i,a,_,u)},e.drawElementsInstanced=function(i,a,_,u,p){t.drawElementsInstancedANGLE(i,a,_,u,p)})}function Ji(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(i){t.deleteVertexArrayOES(i)},e.bindVertexArray=function(i){t.bindVertexArrayOES(i)},e.isVertexArray=function(i){return t.isVertexArrayOES(i)})}function Qi(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(i,a){t.drawBuffersWEBGL(i,a)})}var $i=1,gr=[],Xt=[];function ri(e){for(var t=$i++,i=e.length;i<t;i++)e[i]=null;return t}function en(e,t){e.hd||(e.hd=e.getContext,e.getContext=function(a,_){return _=e.hd(a,_),a=="webgl"==_ instanceof WebGLRenderingContext?_:null});var i=e.getContext("webgl",t);return i?tn(i,t):0}function tn(e,t){var i=ri(Xt),a={$d:i,attributes:t,version:t.Cd,Yc:e};return e.canvas&&(e.canvas.Ud=a),Xt[i]=a,(typeof t.vd>"u"||t.vd)&&rn(a),i}function rn(e){if(e||(e=jt),!e.Ad){e.Ad=!0;var t=e.Yc;Ki(t),Ji(t),Qi(t),t.Xd=t.getExtension("EXT_disjoint_timer_query"),t.ae=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach(function(i){0>i.indexOf("lose_context")&&0>i.indexOf("debug")&&t.getExtension(i)})}}var nn={},ii,jt;function qt(e,t){return e=new Date(1e3*m[e>>2]),m[t>>2]=e.getUTCSeconds(),m[t+4>>2]=e.getUTCMinutes(),m[t+8>>2]=e.getUTCHours(),m[t+12>>2]=e.getUTCDate(),m[t+16>>2]=e.getUTCMonth(),m[t+20>>2]=e.getUTCFullYear()-1900,m[t+24>>2]=e.getUTCDay(),m[t+36>>2]=0,m[t+32>>2]=0,m[t+28>>2]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,qt.cd||(qt.cd=Ne("GMT")),m[t+40>>2]=qt.cd,t}function an(){function e(p){return(p=p.toTimeString().match(/\(([A-Za-z ]+)\)$/))?p[1]:"GMT"}if(!ni){ni=!0;var t=new Date().getFullYear(),i=new Date(t,0,1),a=new Date(t,6,1);t=i.getTimezoneOffset();var _=a.getTimezoneOffset(),u=Math.max(t,_);m[un()>>2]=60*u,m[cn()>>2]=+(t!=_),i=e(i),a=e(a),i=Ne(i),a=Ne(a),_<t?(m[It()>>2]=i,m[It()+4>>2]=a):(m[It()>>2]=a,m[It()+4>>2]=i)}}var ni;function Zt(e){return e%4===0&&(e%100!==0||e%400===0)}function yr(e,t){for(var i=0,a=0;a<=t;i+=e[a++]);return i}var Kt=[31,29,31,30,31,30,31,31,30,31,30,31],Jt=[31,28,31,30,31,30,31,31,30,31,30,31];function Qt(e,t){for(e=new Date(e.getTime());0<t;){var i=e.getMonth(),a=(Zt(e.getFullYear())?Kt:Jt)[i];if(t>a-e.getDate())t-=a-e.getDate()+1,e.setDate(1),11>i?e.setMonth(i+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1));else{e.setDate(e.getDate()+t);break}}return e}function sn(e,t,i,a){function _(l,I,W){for(l=typeof l=="number"?l.toString():l||"";l.length<I;)l=W[0]+l;return l}function u(l,I){return _(l,I,"0")}function p(l,I){function W(He){return 0>He?-1:0<He?1:0}var ue;return(ue=W(l.getFullYear()-I.getFullYear()))===0&&(ue=W(l.getMonth()-I.getMonth()))===0&&(ue=W(l.getDate()-I.getDate())),ue}function x(l){switch(l.getDay()){case 0:return new Date(l.getFullYear()-1,11,29);case 1:return l;case 2:return new Date(l.getFullYear(),0,3);case 3:return new Date(l.getFullYear(),0,2);case 4:return new Date(l.getFullYear(),0,1);case 5:return new Date(l.getFullYear()-1,11,31);case 6:return new Date(l.getFullYear()-1,11,30)}}function k(l){l=Qt(new Date(l.yc+1900,0,1),l.Wc);var I=new Date(l.getFullYear()+1,0,4),W=x(new Date(l.getFullYear(),0,4));return I=x(I),0>=p(W,l)?0>=p(I,l)?l.getFullYear()+1:l.getFullYear():l.getFullYear()-1}var A=m[a+40>>2];a={Qd:m[a>>2],Pd:m[a+4>>2],Uc:m[a+8>>2],Oc:m[a+12>>2],Jc:m[a+16>>2],yc:m[a+20>>2],Vc:m[a+24>>2],Wc:m[a+28>>2],ee:m[a+32>>2],Od:m[a+36>>2],Rd:A?ee(A):""},i=ee(i),A={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var M in A)i=i.replace(new RegExp(M,"g"),A[M]);var B="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),q="January February March April May June July August September October November December".split(" ");A={"%a":function(l){return B[l.Vc].substring(0,3)},"%A":function(l){return B[l.Vc]},"%b":function(l){return q[l.Jc].substring(0,3)},"%B":function(l){return q[l.Jc]},"%C":function(l){return u((l.yc+1900)/100|0,2)},"%d":function(l){return u(l.Oc,2)},"%e":function(l){return _(l.Oc,2," ")},"%g":function(l){return k(l).toString().substring(2)},"%G":function(l){return k(l)},"%H":function(l){return u(l.Uc,2)},"%I":function(l){return l=l.Uc,l==0?l=12:12<l&&(l-=12),u(l,2)},"%j":function(l){return u(l.Oc+yr(Zt(l.yc+1900)?Kt:Jt,l.Jc-1),3)},"%m":function(l){return u(l.Jc+1,2)},"%M":function(l){return u(l.Pd,2)},"%n":function(){return`
`},"%p":function(l){return 0<=l.Uc&&12>l.Uc?"AM":"PM"},"%S":function(l){return u(l.Qd,2)},"%t":function(){return"	"},"%u":function(l){return l.Vc||7},"%U":function(l){var I=new Date(l.yc+1900,0,1),W=I.getDay()===0?I:Qt(I,7-I.getDay());return l=new Date(l.yc+1900,l.Jc,l.Oc),0>p(W,l)?u(Math.ceil((31-W.getDate()+(yr(Zt(l.getFullYear())?Kt:Jt,l.getMonth()-1)-31)+l.getDate())/7),2):p(W,I)===0?"01":"00"},"%V":function(l){var I=new Date(l.yc+1901,0,4),W=x(new Date(l.yc+1900,0,4));I=x(I);var ue=Qt(new Date(l.yc+1900,0,1),l.Wc);return 0>p(ue,W)?"53":0>=p(I,ue)?"01":u(Math.ceil((W.getFullYear()<l.yc+1900?l.Wc+32-W.getDate():l.Wc+1-W.getDate())/7),2)},"%w":function(l){return l.Vc},"%W":function(l){var I=new Date(l.yc,0,1),W=I.getDay()===1?I:Qt(I,I.getDay()===0?1:7-I.getDay()+1);return l=new Date(l.yc+1900,l.Jc,l.Oc),0>p(W,l)?u(Math.ceil((31-W.getDate()+(yr(Zt(l.getFullYear())?Kt:Jt,l.getMonth()-1)-31)+l.getDate())/7),2):p(W,I)===0?"01":"00"},"%y":function(l){return(l.yc+1900).toString().substring(2)},"%Y":function(l){return l.yc+1900},"%z":function(l){l=l.Od;var I=0<=l;return l=Math.abs(l)/60,(I?"+":"-")+("0000"+(l/60*100+l%60)).slice(-4)},"%Z":function(l){return l.Rd},"%%":function(){return"%"}};for(M in A)0<=i.indexOf(M)&&(i=i.replace(new RegExp(M,"g"),A[M](a)));return M=si(i,!1),M.length>t?0:(ae.set(M,e),M.length-1)}var vr=[];function ai(e,t,i,a){e||(e=this),this.parent=e,this.Cc=e.Cc,this.Lc=null,this.id=Ze++,this.name=t,this.mode=i,this.rc={},this.tc={},this.Mc=a}Object.defineProperties(ai.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Gr(),de=Array(4096),Vr(z,"/"),Ke("/tmp"),Ke("/home"),Ke("/home/web_user"),function(){Ke("/dev"),cr(259,{read:function(){return 0},write:function(t,i,a,_){return _}}),Dt("/dev/null",259),w(1280,F),w(1536,P),Dt("/dev/tty",1280),Dt("/dev/tty1",1536);var e=qe();Et("random",e),Et("urandom",e),Ke("/dev/shm"),Ke("/dev/shm/tmp")}(),function(){Ke("/proc");var e=Ke("/proc/self");Ke("/proc/self/fd"),Vr({Cc:function(){var t=St(e,"fd",16895,73);return t.rc={Kc:function(i,a){var _=ye[+a];if(!_)throw new E(8);return i={parent:null,Cc:{ld:"fake"},rc:{Nc:function(){return _.path}}},i.parent=i}},t}},"/proc/self/fd")}(),r.requestFullscreen=function(e,t){Yi(e,t)},r.requestAnimationFrame=function(e){pr(e)},r.setCanvasSize=function(e,t,i){zt(r.canvas,e,t),i||hr()},r.pauseMainLoop=function(){rt=null,Gt++},r.resumeMainLoop=function(){Gt++;var e=Wt,t=Yt,i=Tt;Tt=null,Ci(i),Di(e,t),rt()},r.getUserMedia=function(){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(void 0)},r.createContext=function(e,t,i,a){return Wi(e,t,i,a)},function(e,t){try{var i=indexedDB.open("emscripten_filesystem",1)}catch(a){t(a);return}i.onupgradeneeded=function(a){a=a.target.result,a.objectStoreNames.contains("FILES")&&a.deleteObjectStore("FILES"),a.createObjectStore("FILES")},i.onsuccess=function(a){e(a.target.result)},i.onerror=function(a){t(a)}}(function(e){Mt=e,je()},function(){Mt=!1,je()}),typeof ENVIRONMENT_IS_FETCH_WORKER<"u"&&ENVIRONMENT_IS_FETCH_WORKER||ct();var bt;function si(e,t){var i=Array(Ve(e)+1);return e=L(e,i,0,i.length),t&&(i.length=e),i}var on={H:function(e,t){return j(e,t)},a:function(e){return it(e+16)+16},b:function(e,t,i){throw new Y(e).zd(t,i),e},e:function(e,t,i){At=i;try{var a=tt(e);switch(t){case 0:var _=mt();return 0>_?-28:vt(a.path,a.flags,0,_).Dc;case 1:case 2:return 0;case 3:return a.flags;case 4:return _=mt(),a.flags|=_,0;case 12:return _=mt(),ge[_+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return m[oi()>>2]=28,-1;default:return-28}}catch(u){return typeof we<"u"&&u instanceof E||$(u),-u.wc}},D:function(e,t,i){try{var a=tt(e);if(!a.Ec){var _=me(a.path,{Qc:!0}).node;if(!_.rc.Sc)throw new E(54);var u=_.rc.Sc(_);a.Ec=u}e=0;for(var p=Ut(a,0,1),x=Math.floor(p/280);x<a.Ec.length&&e+280<=i;){var k=a.Ec[x];if(k[0]===".")var A=1,M=4;else{var B=Ye(a.node,k);A=B.id,M=(B.mode&61440)===8192?2:(B.mode&61440)===16384?4:(B.mode&61440)===40960?10:8}K=[A>>>0,(G=A,1<=+Math.abs(G)?0<G?(Math.min(+Math.floor(G/4294967296),4294967295)|0)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],m[t+e>>2]=K[0],m[t+e+4>>2]=K[1],K=[280*(x+1)>>>0,(G=280*(x+1),1<=+Math.abs(G)?0<G?(Math.min(+Math.floor(G/4294967296),4294967295)|0)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],m[t+e+8>>2]=K[0],m[t+e+12>>2]=K[1],ge[t+e+16>>1]=280,ae[t+e+18>>0]=M,L(k,Z,t+e+19,256),e+=280,x+=1}return Ut(a,280*x,0),e}catch(q){return typeof we<"u"&&q instanceof E||$(q),-q.wc}},o:function(){return 42},F:function(e,t,i){At=i;try{var a=tt(e);switch(t){case 21509:case 21505:return a.vc?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return a.vc?0:-59;case 21519:if(!a.vc)return-59;var _=mt();return m[_>>2]=0;case 21520:return a.vc?-28:-59;case 21531:if(e=_=mt(),!a.tc.Bd)throw new E(59);return a.tc.Bd(a,t,e);case 21523:return a.vc?0:-59;case 21524:return a.vc?0:-59;default:$("bad ioctl syscall "+t)}}catch(u){return typeof we<"u"&&u instanceof E||$(u),-u.wc}},G:function(e,t){try{return e=ee(e),Yr(Si,e,t)}catch(i){return typeof we<"u"&&i instanceof E||$(i),-i.wc}},p:function(e,t,i){At=i;try{var a=ee(e),_=i?mt():0;return vt(a,t,_).Dc}catch(u){return typeof we<"u"&&u instanceof E||$(u),-u.wc}},J:function(e,t){try{return e=ee(e),Yr(Nr,e,t)}catch(i){return typeof we<"u"&&i instanceof E||$(i),-i.wc}},C:function(e,t){try{return e=ee(e),t=ee(t),Ct(e,t),0}catch(i){return typeof we<"u"&&i instanceof E||$(i),-i.wc}},K:function(e){try{if(!e)return-21;var t={__size__:390,domainname:325,machine:260,nodename:65,release:130,sysname:0,version:195};return le("Emscripten",e+t.sysname),le("emscripten",e+t.nodename),le("1.0",e+t.release),le("#1",e+t.version),le("wasm32",e+t.machine),0}catch(i){return typeof we<"u"&&i instanceof E||$(i),-i.wc}},I:function(e){try{e=ee(e);var t=me(e,{parent:!0}).node,i=N(e),a=Ye(t,i);e:{try{var _=Ye(t,i)}catch(A){var u=A.wc;break e}var p=ht(t,"wx");u=p||((_.mode&61440)===16384?31:0)}if(u)throw new E(u);if(!t.rc.Xc)throw new E(63);if(a.Lc)throw new E(10);try{Ie.willDeletePath&&Ie.willDeletePath(e)}catch(A){b("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+A.message)}t.rc.Xc(t,i);var x=dt(a.parent.id,a.name);if(de[x]===a)de[x]=a.Gc;else for(var k=de[x];k;){if(k.Gc===a){k.Gc=a.Gc;break}k=k.Gc}try{Ie.onDeletePath&&Ie.onDeletePath(e)}catch(A){b("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+A.message)}return 0}catch(A){return typeof we<"u"&&A instanceof E||$(A),-A.wc}},L:function(e){delete mr[e-1]},c:function(){$()},h:j,P:function(e,t){return e-t},R:function(){self.postMessage({t:"gfx"})},t:function(){var e=new URL(location.origin).hostname;if(e.length===0&&(e=new URL(location.href.replace("blob:","")).hostname),/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))e.indexOf("10.")===0&&(e="10.*"),e.indexOf("192.168.")===0&&(e="192.168.*"),e.indexOf("172.")===0&&(e="172.*"),e.indexOf("127.")===0&&(e="127.*");else{var t=new RegExp("("+String.fromCharCode(92)+".ngrok"+String.fromCharCode(92)+".io)$","i");t.test(e)&&(e="*.ngrok.io"),t=new RegExp("("+String.fromCharCode(92)+".arweb"+String.fromCharCode(92)+".app)$","i"),t.test(e)&&(e="*.arweb.app")}t=Ve(e)+1;var i=it(t);return L(e,Z,i,t+1),i},S:function(){self.postMessage({t:"licerr"})},m:function(e,t,i){vr.length=0;var a;for(i>>=2;a=Z[t++];)(a=105>a)&&i&1&&i++,vr.push(a?Te[i++>>1]:m[i]),++i;return We[e].apply(null,vr)},l:function(e,t,i){function a(){_e.get(e)(t)}0<=i?Zr(a,i):Xi(a)},x:function(){return 2147483648},N:Qr,v:function(e,t,i){Z.copyWithin(e,t,t+i)},w:function(e){var t=Z.length;if(2147483648<e)return!1;for(var i=1;4>=i;i*=2){var a=t*(1+.2/i);a=Math.min(a,e+100663296),a=Math.max(e,a),0<a%65536&&(a+=65536-a%65536);e:{try{se.grow(Math.min(2147483648,a)-ke.byteLength+65535>>>16),Ge();var _=1;break e}catch{}_=void 0}if(_)return!0}return!1},M:function(e,t,i,a,_){function u(X){wr(X,p,A,M,k)}function p(X,Ee){$r(X,Ee.response,function(be){Je(function(){I?_e.get(I)(be):t&&t(be)})},function(be){Je(function(){I?_e.get(I)(be):t&&t(be)})})}function x(X){wr(X,B,A,M,k)}function k(X){Je(function(){He?_e.get(He)(X):_&&_(X)})}function A(X){Je(function(){W?_e.get(W)(X):i&&i(X)})}function M(X){Je(function(){ue?_e.get(ue)(X):a&&a(X)})}function B(X){Je(function(){I?_e.get(I)(X):t&&t(X)})}var q=e+112,l=ee(q),I=C[q+36>>2],W=C[q+40>>2],ue=C[q+44>>2],He=C[q+48>>2],Qe=C[q+52>>2],er=!!(Qe&4),O=!!(Qe&32);if(Qe=!!(Qe&16),l==="EM_IDB_STORE")l=C[q+84>>2],$r(e,Z.slice(l,l+C[q+88>>2]),B,A);else if(l==="EM_IDB_DELETE")Zi(e,B,A);else if(Qe){if(O)return 0;wr(e,er?p:B,A,M,k)}else qi(e,B,O?A:er?u:x);return e},A:function(e,t){try{var i=0;return ti().forEach(function(a,_){var u=t+i;m[e+4*_>>2]=u,le(a,u),i+=a.length+1}),0}catch(a){return typeof we<"u"&&a instanceof E||$(a),a.wc}},B:function(e,t){try{var i=ti();m[e>>2]=i.length;var a=0;return i.forEach(function(_){a+=_.length+1}),m[t>>2]=a,0}catch(_){return typeof we<"u"&&_ instanceof E||$(_),_.wc}},O:function(e){ci(e)},g:function(e){try{var t=tt(e);if(t.Dc===null)throw new E(8);t.Ec&&(t.Ec=null);try{t.tc.close&&t.tc.close(t)}catch(i){throw i}finally{ye[t.Dc]=null}return t.Dc=null,0}catch(i){return typeof we<"u"&&i instanceof E||$(i),i.wc}},E:function(e,t,i,a){try{e:{for(var _=tt(e),u=e=0;u<i;u++){var p=m[t+(8*u+4)>>2],x=_,k=m[t+8*u>>2],A=p,M=void 0,B=ae;if(0>A||0>M)throw new E(28);if(x.Dc===null)throw new E(8);if((x.flags&2097155)===1)throw new E(8);if((x.node.mode&61440)===16384)throw new E(31);if(!x.tc.read)throw new E(28);var q=typeof M<"u";if(!q)M=x.position;else if(!x.seekable)throw new E(70);var l=x.tc.read(x,B,k,A,M);q||(x.position+=l);var I=l;if(0>I){var W=-1;break e}if(e+=I,I<p)break}W=e}return m[a>>2]=W,0}catch(ue){return typeof we<"u"&&ue instanceof E||$(ue),ue.wc}},u:function(e,t,i,a,_){try{var u=tt(e);return e=4294967296*i+(t>>>0),-9007199254740992>=e||9007199254740992<=e?-61:(Ut(u,e,a),K=[u.position>>>0,(G=u.position,1<=+Math.abs(G)?0<G?(Math.min(+Math.floor(G/4294967296),4294967295)|0)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],m[_>>2]=K[0],m[_+4>>2]=K[1],u.Ec&&e===0&&a===0&&(u.Ec=null),0)}catch(p){return typeof we<"u"&&p instanceof E||$(p),p.wc}},k:function(e,t,i,a){try{e:{for(var _=tt(e),u=e=0;u<i;u++){var p=_,x=m[t+8*u>>2],k=m[t+(8*u+4)>>2],A=void 0,M=ae;if(0>k||0>A)throw new E(28);if(p.Dc===null)throw new E(8);if(!(p.flags&2097155))throw new E(8);if((p.node.mode&61440)===16384)throw new E(31);if(!p.tc.write)throw new E(28);p.seekable&&p.flags&1024&&Ut(p,0,2);var B=typeof A<"u";if(!B)A=p.position;else if(!p.seekable)throw new E(70);var q=p.tc.write(p,M,x,k,A,void 0);B||(p.position+=q);try{p.path&&Ie.onWriteToFile&&Ie.onWriteToFile(p.path)}catch(W){b("FS.trackingDelegate['onWriteToFile']('"+p.path+"') threw an exception: "+W.message)}var l=q;if(0>l){var I=-1;break e}e+=l}I=e}return m[a>>2]=I,0}catch(W){return typeof we<"u"&&W instanceof E||$(W),W.wc}},f:function(e){var t=Date.now();return m[e>>2]=t/1e3|0,m[e+4>>2]=t%1e3*1e3|0,0},n:function(e,t){bt.bindTexture(e,gr[t])},q:function(e,t){for(var i=0;i<e;i++){var a=bt.createTexture(),_=a&&ri(gr);a?(a.name=_,gr[_]=a):ii||(ii=1282),m[t+4*i>>2]=_}},i:function(e,t,i,a,_,u,p,x,k){var A=bt,M=A.texImage2D;if(k){var B=x-5120;B=B==1?Z:B==4?m:B==6?Pe:B==5||B==28922?C:Q;var q=31-Math.clz32(B.BYTES_PER_ELEMENT);k=B.subarray(k>>q,k+_*(a*({5:3,6:4,8:2,29502:3,29504:4}[p-6402]||1)*(1<<q)+4-1&-4)>>q)}else k=null;M.call(A,e,t,i,a,_,u,p,x,k)},j:function(e,t,i){bt.texParameteri(e,t,i)},s:qt,r:function(e,t){an(),e=new Date(1e3*m[e>>2]),m[t>>2]=e.getSeconds(),m[t+4>>2]=e.getMinutes(),m[t+8>>2]=e.getHours(),m[t+12>>2]=e.getDate(),m[t+16>>2]=e.getMonth(),m[t+20>>2]=e.getFullYear()-1900,m[t+24>>2]=e.getDay();var i=new Date(e.getFullYear(),0,1);m[t+28>>2]=(e.getTime()-i.getTime())/864e5|0,m[t+36>>2]=-(60*e.getTimezoneOffset());var a=new Date(e.getFullYear(),6,1).getTimezoneOffset();return i=i.getTimezoneOffset(),e=(a!=i&&e.getTimezoneOffset()==Math.min(i,a))|0,m[t+32>>2]=e,e=m[It()+(e?4:0)>>2],m[t+40>>2]=e,t},Q:function(){return 6},y:function(){return 28},z:function(e,t,i,a){return sn(e,t,i,a)},d:function(e){var t=Date.now()/1e3|0;return e&&(m[e>>2]=t),t}},d=function(){function e(i){r.asm=i.exports,se=r.asm.T,Ge(),_e=r.asm.Y,xe.unshift(r.asm.U),je()}var t={a:on};if(ct(),r.instantiateWasm)try{return r.instantiateWasm(t,e)}catch(i){return b("Module.instantiateWasm callback failed with error: "+i),!1}return t=ft(t),e(t[0]),r.asm}();r.___wasm_call_ctors=d.U,r._zappar_has_initialized=d.V,r._zappar_invert=d.W,r._zappar_loaded=d.X,r._zappar_pipeline_create=d.Z,r._zappar_pipeline_destroy=d._,r._zappar_pipeline_camera_frame_submit=d.$,r._zappar_pipeline_camera_frame_submit_raw_pointer=d.aa,r._zappar_pipeline_frame_update=d.ba,r._zappar_pipeline_camera_frame_user_data=d.ca,r._zappar_pipeline_camera_model=d.da,r._zappar_pipeline_frame_number=d.ea,r._zappar_pipeline_motion_accelerometer_submit=d.fa,r._zappar_pipeline_motion_rotation_rate_submit=d.ga,r._zappar_pipeline_motion_attitude_submit=d.ha,r._zappar_pipeline_motion_attitude_matrix_submit=d.ia,r._zappar_pipeline_camera_frame_user_facing=d.ja,r._zappar_pipeline_camera_frame_texture_matrix=d.ka,r._zappar_pipeline_camera_pose_with_attitude=d.la,r._zappar_pipeline_camera_pose_with_origin=d.ma,r._zappar_pipeline_camera_frame_camera_attitude=d.na,r._zappar_pipeline_camera_frame_device_attitude=d.oa,r._zappar_pipeline_camera_frame_texture_gl=d.pa,r._zappar_pipeline_camera_frame_upload_gl=d.qa,r._zappar_pipeline_sequence_record_start=d.ra,r._zappar_pipeline_sequence_record_stop=d.sa,r._zappar_pipeline_sequence_record_clear=d.ta,r._zappar_pipeline_sequence_record_device_attitude_matrices_set=d.ua,r._zappar_pipeline_sequence_record_data_size=d.va,r._zappar_pipeline_sequence_record_data=d.wa,r._zappar_pipeline_process_gl=d.xa,r._zappar_pipeline_camera_pose_default=d.ya,r._zappar_instant_world_tracker_create=d.za,r._zappar_instant_world_tracker_destroy=d.Aa,r._zappar_instant_world_tracker_anchor_pose_set_from_camera_offset_raw=d.Ba,r._zappar_instant_world_tracker_anchor_pose_raw=d.Ca,r._zappar_instant_world_tracker_enabled_set=d.Da,r._zappar_instant_world_tracker_enabled=d.Ea,r._zappar_image_tracker_create=d.Fa,r._zappar_image_tracker_destroy=d.Ga,r._zappar_image_tracker_target_load_from_memory=d.Ha,r.__Z42zappar_image_tracker_target_load_from_fileP23zappar_image_tracker_tiPKc=d.Ia;var _n=r._free=d.Ja;r._zappar_image_tracker_anchor_count=d.Ka,r._zappar_image_tracker_anchor_id=d.La,r._zappar_image_tracker_anchor_pose_raw=d.Ma,r._zappar_image_tracker_enabled_set=d.Na,r._zappar_image_tracker_enabled=d.Oa,r._zappar_image_tracker_target_loaded_version=d.Pa,r.__Z33zappar_image_tracker_target_countP23zappar_image_tracker_ti=d.Qa,r.__Z46zappar_image_tracker_target_preview_compressedP23zappar_image_tracker_tii=d.Ra,r.__Z51zappar_image_tracker_target_preview_compressed_sizeP23zappar_image_tracker_tii=d.Sa,r.__Z55zappar_image_tracker_target_preview_compressed_mimetypeP23zappar_image_tracker_tii=d.Ta,r.__Z40zappar_image_tracker_target_preview_rgbaP23zappar_image_tracker_tii=d.Ua,r.__Z45zappar_image_tracker_target_preview_rgba_sizeP23zappar_image_tracker_tii=d.Va,r.__Z46zappar_image_tracker_target_preview_rgba_widthP23zappar_image_tracker_tii=d.Wa,r.__Z47zappar_image_tracker_target_preview_rgba_heightP23zappar_image_tracker_tii=d.Xa,r.__Z38zappar_image_tracker_target_radius_topP23zappar_image_tracker_tii=d.Ya,r.__Z41zappar_image_tracker_target_radius_bottomP23zappar_image_tracker_tii=d.Za,r.__Z39zappar_image_tracker_target_side_lengthP23zappar_image_tracker_tii=d._a,r.__Z49zappar_image_tracker_target_physical_scale_factorP23zappar_image_tracker_tii=d.$a,r.__Z49zappar_image_tracker_target_preview_mesh_verticesP23zappar_image_tracker_tii=d.ab,r.__Z48zappar_image_tracker_target_preview_mesh_normalsP23zappar_image_tracker_tii=d.bb,r.__Z44zappar_image_tracker_target_preview_mesh_uvsP23zappar_image_tracker_tii=d.cb,r.__Z48zappar_image_tracker_target_preview_mesh_indicesP23zappar_image_tracker_tii=d.db,r.__Z54zappar_image_tracker_target_preview_mesh_vertices_sizeP23zappar_image_tracker_tii=d.eb,r.__Z53zappar_image_tracker_target_preview_mesh_normals_sizeP23zappar_image_tracker_tii=d.fb,r.__Z49zappar_image_tracker_target_preview_mesh_uvs_sizeP23zappar_image_tracker_tii=d.gb,r.__Z53zappar_image_tracker_target_preview_mesh_indices_sizeP23zappar_image_tracker_tii=d.hb,r.__Z32zappar_image_tracker_target_typeP23zappar_image_tracker_tii=d.ib,r._zappar_face_tracker_create=d.jb,r._zappar_face_tracker_destroy=d.kb,r._zappar_face_tracker_model_load_from_memory=d.lb,r._zappar_face_tracker_anchor_count=d.mb,r._zappar_face_tracker_anchor_id=d.nb,r._zappar_face_tracker_anchor_pose_raw=d.ob,r._zappar_face_tracker_anchor_identity_coefficients=d.pb,r._zappar_face_tracker_anchor_expression_coefficients=d.qb,r._zappar_face_tracker_enabled_set=d.rb,r._zappar_face_tracker_enabled=d.sb,r._zappar_face_tracker_max_faces_set=d.tb,r._zappar_face_tracker_max_faces=d.ub,r._zappar_face_tracker_model_loaded_version=d.vb,r._zappar_face_landmark_create=d.wb,r._zappar_face_landmark_destroy=d.xb,r.__Z27zappar_face_landmark_updateP23zappar_face_landmark_tiPKfS2_i=d.yb,r._zappar_face_landmark_anchor_pose=d.zb,r._zappar_barcode_finder_create=d.Ab,r._zappar_barcode_finder_destroy=d.Bb,r._zappar_barcode_finder_found_number=d.Cb,r._zappar_barcode_finder_found_text=d.Db,r._zappar_barcode_finder_enabled_set=d.Eb,r._zappar_barcode_finder_enabled=d.Fb,r._zappar_barcode_finder_found_format=d.Gb,r._zappar_barcode_finder_formats=d.Hb,r._zappar_barcode_finder_formats_set=d.Ib;var it=r._malloc=d.Jb;r._zappar_face_mesh_create=d.Kb,r._zappar_face_mesh_destroy=d.Lb,r.__Z33zappar_face_mesh_load_from_memoryP19zappar_face_mesh_tiPKciiiii=d.Mb,r.__Z29zappar_face_mesh_indices_sizeP19zappar_face_mesh_ti=d.Nb,r.__Z25zappar_face_mesh_uvs_sizeP19zappar_face_mesh_ti=d.Ob,r.__Z30zappar_face_mesh_vertices_sizeP19zappar_face_mesh_ti=d.Pb,r.__Z31zappar_face_mesh_loaded_versionP19zappar_face_mesh_ti=d.Qb,r.__Z25zappar_face_mesh_verticesP19zappar_face_mesh_ti=d.Rb,r.__Z20zappar_face_mesh_uvsP19zappar_face_mesh_ti=d.Sb,r.__Z24zappar_face_mesh_indicesP19zappar_face_mesh_ti=d.Tb,r.__Z23zappar_face_mesh_updateP19zappar_face_mesh_tiPKfS2_i=d.Ub,r.__Z29zappar_face_mesh_normals_sizeP19zappar_face_mesh_ti=d.Vb,r.__Z24zappar_face_mesh_normalsP19zappar_face_mesh_ti=d.Wb,r._zappar_camera_source_create=d.Xb,r._zappar_camera_source_destroy=d.Yb,r._zappar_camera_source_start=d.Zb,r._zappar_camera_source_pause=d._b,r._zappar_camera_default_device_id=d.$b,r._zappar_sequence_source_create=d.ac,r.__Z28zappar_sequence_source_startP25zappar_sequence_source_ti=d.bc,r.__Z39zappar_sequence_source_load_from_memoryP25zappar_sequence_source_tiPKci=d.cc,r.__Z28zappar_sequence_source_pauseP25zappar_sequence_source_ti=d.dc,r._zappar_sequence_source_destroy=d.ec,r._zappar_sequence_source_max_playback_fps_set=d.fc,r._zappar_log_level_set=d.gc,r._zappar_log_level=d.hc,r.__Z23zappar_log_redirect_setPFv18zappar_log_level_tPKcE=d.ic,r._zappar_analytics_project_id_set=d.jc;var oi=r.___errno_location=d.kc,It=r.__get_tzname=d.lc,cn=r.__get_daylight=d.mc,un=r.__get_timezone=d.nc,fn=r.stackSave=d.oc,ln=r.stackRestore=d.pc,_i=r.stackAlloc=d.qc;r.cwrap=function(e,t,i,a){i=i||[];var _=i.every(function(u){return u==="number"});return t!=="string"&&_&&!a?fe(e):function(){return Oe(e,t,i,arguments)}},r.setValue=function(e,t,i){switch(i=i||"i8",i.charAt(i.length-1)==="*"&&(i="i32"),i){case"i1":ae[e>>0]=t;break;case"i8":ae[e>>0]=t;break;case"i16":ge[e>>1]=t;break;case"i32":m[e>>2]=t;break;case"i64":K=[t>>>0,(G=t,1<=+Math.abs(G)?0<G?(Math.min(+Math.floor(G/4294967296),4294967295)|0)>>>0:~~+Math.ceil((G-+(~~G>>>0))/4294967296)>>>0:0)],m[e>>2]=K[0],m[e+4>>2]=K[1];break;case"float":Pe[e>>2]=t;break;case"double":Te[e>>3]=t;break;default:$("invalid type for setValue: "+i)}},r.getValue=function(e,t){switch(t=t||"i8",t.charAt(t.length-1)==="*"&&(t="i32"),t){case"i1":return ae[e>>0];case"i8":return ae[e>>0];case"i16":return ge[e>>1];case"i32":return m[e>>2];case"i64":return m[e>>2];case"float":return Pe[e>>2];case"double":return Te[e>>3];default:$("invalid type for getValue: "+t)}return null},r.UTF8ToString=ee;var $t;function Er(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}Re=function e(){$t||Ar(),$t||(Re=e)};function Ar(){function e(){if(!$t&&($t=!0,r.calledRun=!0,!oe)){if(r.noFSInit||Wr||(Wr=!0,Gr(),r.stdin=r.stdin,r.stdout=r.stdout,r.stderr=r.stderr,r.stdin?Et("stdin",r.stdin):Ct("/dev/tty","/dev/stdin"),r.stdout?Et("stdout",null,r.stdout):Ct("/dev/tty","/dev/stdout"),r.stderr?Et("stderr",null,r.stderr):Ct("/dev/tty1","/dev/stderr"),vt("/dev/stdin",0),vt("/dev/stdout",1),vt("/dev/stderr",1)),Se(xe),lt=!1,Se(ot),c(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;){var t=r.postRun.shift();_t.unshift(t)}Se(_t)}}if(!(0<Le)){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)$e();Se(ze),0<Le||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),e()},1)):e())}}r.run=Ar;function ci(e){D=e,R||(r.onExit&&r.onExit(e),oe=!0),ne(e,new Er(e))}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return Ar(),o}}();function fi(s){let o=s.cwrap("zappar_log_level","number",[]),r=s.cwrap("zappar_log_level_set",null,["number"]),c=s.cwrap("zappar_analytics_project_id_set",null,["string"]),f=s.cwrap("zappar_pipeline_create","number",[]),n=s.cwrap("zappar_pipeline_destroy",null,["number"]),g=s.cwrap("zappar_pipeline_frame_update",null,["number"]),H=s.cwrap("zappar_pipeline_frame_number","number",["number"]),ne=s.cwrap("zappar_pipeline_camera_model","number",["number"]),J=s.cwrap("zappar_pipeline_camera_frame_user_data","number",["number"]),ie=s.cwrap("zappar_pipeline_camera_frame_submit",null,["number","number","number","number","number","number","number","number","number"]),he=s.cwrap("zappar_pipeline_camera_frame_submit_raw_pointer",null,["number","number","number","number","number","number","number","number","number","number","number"]),b=s.cwrap("zappar_pipeline_camera_frame_camera_attitude","number",["number"]),T=s.cwrap("zappar_pipeline_camera_frame_device_attitude","number",["number"]),y=s.cwrap("zappar_pipeline_motion_accelerometer_submit",null,["number","number","number","number","number"]),v=s.cwrap("zappar_pipeline_motion_rotation_rate_submit",null,["number","number","number","number","number"]),R=s.cwrap("zappar_pipeline_motion_attitude_submit",null,["number","number","number","number","number"]),se=s.cwrap("zappar_pipeline_motion_attitude_matrix_submit",null,["number","number"]),oe=s.cwrap("zappar_camera_source_create","number",["number","string"]),D=s.cwrap("zappar_camera_source_destroy",null,["number"]),S=s.cwrap("zappar_sequence_source_create","number",["number"]),fe=s.cwrap("zappar_sequence_source_destroy",null,["number"]),Oe=s.cwrap("zappar_image_tracker_create","number",["number"]),Xe=s.cwrap("zappar_image_tracker_destroy",null,["number"]),Ae=s.cwrap("zappar_image_tracker_target_load_from_memory",null,["number","number","number"]),ee=s.cwrap("zappar_image_tracker_target_loaded_version","number",["number"]),L=s.cwrap("zappar_image_tracker_enabled","number",["number"]),Ve=s.cwrap("zappar_image_tracker_enabled_set",null,["number","number"]),Ne=s.cwrap("zappar_image_tracker_anchor_count","number",["number"]),le=s.cwrap("zappar_image_tracker_anchor_id","string",["number","number"]),ke=s.cwrap("zappar_image_tracker_anchor_pose_raw","number",["number","number"]),ae=s.cwrap("zappar_face_tracker_create","number",["number"]),Z=s.cwrap("zappar_face_tracker_destroy",null,["number"]),ge=s.cwrap("zappar_face_tracker_model_load_from_memory",null,["number","number","number"]),Q=s.cwrap("zappar_face_tracker_model_loaded_version","number",["number"]),m=s.cwrap("zappar_face_tracker_enabled_set",null,["number","number"]),C=s.cwrap("zappar_face_tracker_enabled","number",["number"]),Pe=s.cwrap("zappar_face_tracker_max_faces_set",null,["number","number"]),Te=s.cwrap("zappar_face_tracker_max_faces","number",["number"]),Ge=s.cwrap("zappar_face_tracker_anchor_count","number",["number"]),_e=s.cwrap("zappar_face_tracker_anchor_id","string",["number","number"]),ze=s.cwrap("zappar_face_tracker_anchor_pose_raw","number",["number","number"]),xe=s.cwrap("zappar_face_tracker_anchor_identity_coefficients","number",["number","number"]),ot=s.cwrap("zappar_face_tracker_anchor_expression_coefficients","number",["number","number"]),_t=s.cwrap("zappar_face_mesh_create","number",[]),$e=s.cwrap("zappar_face_mesh_destroy",null,["number"]),Le=s.cwrap("zappar_face_landmark_create","number",["number"]),Re=s.cwrap("zappar_face_landmark_destroy",null,["number"]),ct=s.cwrap("zappar_barcode_finder_create","number",["number"]),je=s.cwrap("zappar_barcode_finder_destroy",null,["number"]),$=s.cwrap("zappar_barcode_finder_enabled_set",null,["number","number"]),Fe=s.cwrap("zappar_barcode_finder_enabled","number",["number"]),ut=s.cwrap("zappar_barcode_finder_found_number","number",["number"]),ft=s.cwrap("zappar_barcode_finder_found_text","string",["number","number"]),G=s.cwrap("zappar_barcode_finder_found_format","number",["number","number"]),K=s.cwrap("zappar_barcode_finder_formats","number",["number"]),We=s.cwrap("zappar_barcode_finder_formats_set",null,["number","number"]),Se=s.cwrap("zappar_instant_world_tracker_create","number",["number"]),V=s.cwrap("zappar_instant_world_tracker_destroy",null,["number"]),j=s.cwrap("zappar_instant_world_tracker_enabled_set",null,["number","number"]),Y=s.cwrap("zappar_instant_world_tracker_enabled","number",["number"]),re=s.cwrap("zappar_instant_world_tracker_anchor_pose_raw","number",["number"]),U=s.cwrap("zappar_instant_world_tracker_anchor_pose_set_from_camera_offset_raw",null,["number","number","number","number","number"]),pe=32,N=s._malloc(pe),qe=16*4;s._malloc(qe);let ce=new Map,Be=(w,h)=>{let F=ce.get(w);return(!F||F[0]<h)&&(F&&s._free(F[1]),F=[h,s._malloc(h)],ce.set(w,F)),F[1]};return{log_level:()=>o(),log_level_set:w=>r(w),analytics_project_id_set:w=>c(w),pipeline_create:()=>f(),pipeline_destroy:()=>{n()},pipeline_frame_update:w=>g(w),pipeline_frame_number:w=>H(w),pipeline_camera_model:w=>{let h=ne(w),F=new Float32Array(6);return F.set(s.HEAPF32.subarray(h/4,6+h/4)),h=F,h},pipeline_camera_frame_user_data:w=>J(w),pipeline_camera_frame_submit:(w,h,F,P,z,Me,De,ye)=>{pe<h.byteLength&&(s._free(N),pe=h.byteLength,N=s._malloc(pe));let Ze=N,de=h.byteLength;s.HEAPU8.set(new Uint8Array(h),N);let lt=F,Ie=P,E=z,et=Be(4,Me.byteLength);s.HEAPF32.set(Me,et/4);let me=Be(5,De.byteLength);return s.HEAPF32.set(De,me/4),ie(w,Ze,de,lt,Ie,E,et,me,ye?1:0)},pipeline_camera_frame_submit_raw_pointer:(w,h,F,P,z,Me,De,ye,Ze,de,lt)=>{let Ie=h,E=F,et=P,me=z,pt=Me,dt=De,Ye=Be(6,ye.byteLength);s.HEAPF32.set(ye,Ye/4);let St=Ze,Bt=Be(8,de.byteLength);return s.HEAPF32.set(de,Bt/4),he(w,Ie,E,et,me,pt,dt,Ye,St,Bt,lt?1:0)},pipeline_camera_frame_camera_attitude:w=>{let h=b(w),F=new Float32Array(16);return F.set(s.HEAPF32.subarray(h/4,16+h/4)),h=F,h},pipeline_camera_frame_device_attitude:w=>{let h=T(w),F=new Float32Array(16);return F.set(s.HEAPF32.subarray(h/4,16+h/4)),h=F,h},pipeline_motion_accelerometer_submit:(w,h,F,P,z)=>y(w,h,F,P,z),pipeline_motion_rotation_rate_submit:(w,h,F,P,z)=>v(w,h,F,P,z),pipeline_motion_attitude_submit:(w,h,F,P,z)=>R(w,h,F,P,z),pipeline_motion_attitude_matrix_submit:(w,h)=>{let F=Be(0,h.byteLength);return s.HEAPF32.set(h,F/4),se(w,F)},camera_source_create:(w,h)=>oe(w,h),camera_source_destroy:()=>{D()},sequence_source_create:w=>S(w),sequence_source_destroy:()=>{fe()},image_tracker_create:w=>Oe(w),image_tracker_destroy:()=>{Xe()},image_tracker_target_load_from_memory:(w,h)=>{pe<h.byteLength&&(s._free(N),pe=h.byteLength,N=s._malloc(pe));let F=N,P=h.byteLength;return s.HEAPU8.set(new Uint8Array(h),N),Ae(w,F,P)},image_tracker_target_loaded_version:w=>ee(w),image_tracker_enabled:w=>{let h=L(w);return h=h===1,h},image_tracker_enabled_set:(w,h)=>Ve(w,h?1:0),image_tracker_anchor_count:w=>Ne(w),image_tracker_anchor_id:(w,h)=>le(w,h),image_tracker_anchor_pose_raw:(w,h)=>{let P=ke(w,h),z=new Float32Array(16);return z.set(s.HEAPF32.subarray(P/4,16+P/4)),P=z,P},face_tracker_create:w=>ae(w),face_tracker_destroy:()=>{Z()},face_tracker_model_load_from_memory:(w,h)=>{pe<h.byteLength&&(s._free(N),pe=h.byteLength,N=s._malloc(pe));let F=N,P=h.byteLength;return s.HEAPU8.set(new Uint8Array(h),N),ge(w,F,P)},face_tracker_model_loaded_version:w=>Q(w),face_tracker_enabled_set:(w,h)=>m(w,h?1:0),face_tracker_enabled:w=>{let h=C(w);return h=h===1,h},face_tracker_max_faces_set:(w,h)=>Pe(w,h),face_tracker_max_faces:w=>Te(w),face_tracker_anchor_count:w=>Ge(w),face_tracker_anchor_id:(w,h)=>_e(w,h),face_tracker_anchor_pose_raw:(w,h)=>{let P=ze(w,h),z=new Float32Array(16);return z.set(s.HEAPF32.subarray(P/4,16+P/4)),P=z,P},face_tracker_anchor_identity_coefficients:(w,h)=>{let P=xe(w,h),z=new Float32Array(50);return z.set(s.HEAPF32.subarray(P/4,50+P/4)),P=z,P},face_tracker_anchor_expression_coefficients:(w,h)=>{let P=ot(w,h),z=new Float32Array(29);return z.set(s.HEAPF32.subarray(P/4,29+P/4)),P=z,P},face_mesh_create:()=>_t(),face_mesh_destroy:()=>{$e()},face_landmark_create:w=>Le(w),face_landmark_destroy:()=>{Re()},barcode_finder_create:w=>ct(w),barcode_finder_destroy:()=>{je()},barcode_finder_enabled_set:(w,h)=>$(w,h?1:0),barcode_finder_enabled:w=>{let h=Fe(w);return h=h===1,h},barcode_finder_found_number:w=>ut(w),barcode_finder_found_text:(w,h)=>ft(w,h),barcode_finder_found_format:(w,h)=>G(w,h),barcode_finder_formats:w=>K(w),barcode_finder_formats_set:(w,h)=>We(w,h),instant_world_tracker_create:w=>Se(w),instant_world_tracker_destroy:()=>{V()},instant_world_tracker_enabled_set:(w,h)=>j(w,h?1:0),instant_world_tracker_enabled:w=>{let h=Y(w);return h=h===1,h},instant_world_tracker_anchor_pose_raw:w=>{let h=re(w),F=new Float32Array(16);return F.set(s.HEAPF32.subarray(h/4,16+h/4)),h=F,h},instant_world_tracker_anchor_pose_set_from_camera_offset_raw:(w,h,F,P,z)=>U(w,h,F,P,z)}}class li{constructor(o){this._messageSender=o,this._freeBufferPool=[],this._buffer=new ArrayBuffer(16),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1,this._timeoutSet=!1,this._appender={int:r=>this.int(r),bool:r=>this.int(r?1:0),float:r=>this.float(r),string:r=>this.string(r),dataWithLength:r=>this.arrayBuffer(r),type:r=>this.int(r),matrix4x4:r=>this.float32ArrayBuffer(r),matrix3x3:r=>this.float32ArrayBuffer(r),identityCoefficients:r=>this.float32ArrayBuffer(r),expressionCoefficients:r=>this.float32ArrayBuffer(r),cameraModel:r=>this.float32ArrayBuffer(r),timestamp:r=>this.double(r),barcodeFormat:r=>this.int(r),faceLandmarkName:r=>this.int(r),instantTrackerTransformOrientation:r=>this.int(r),logLevel:r=>this.int(r)},this._freeBufferPool.push(new ArrayBuffer(16)),this._freeBufferPool.push(new ArrayBuffer(16))}bufferReturn(o){this._freeBufferPool.push(o)}_ensureArrayBuffer(o){let r=(this._offset+o+8)*4;if(this._buffer&&this._buffer.byteLength>=r)return;let c;if(!c){let n=r;n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n++,c=new ArrayBuffer(n)}let f=this._buffer?this._i32View:void 0;this._buffer=c,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),f&&this._i32View.set(f.subarray(0,this._offset))}sendMessage(o,r){this._ensureArrayBuffer(4),this._startOffset=this._offset,this._i32View[this._offset+1]=o,this._offset+=2,r(this._appender),this._i32View[this._startOffset]=this._offset-this._startOffset,this._startOffset=-1,this._sendOneTime()}_sendOneTime(){this._timeoutSet===!1&&(this._timeoutSet=!0,setTimeout(()=>{this._timeoutSet=!1,this._send()},0))}_send(){if(this._freeBufferPool.length===0){this._sendOneTime();return}this._i32View[0]=this._offset,this._messageSender(this._buffer),this._buffer=void 0,this._buffer=this._freeBufferPool.pop(),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1}int(o){this._ensureArrayBuffer(1),this._i32View[this._offset]=o,this._offset++}double(o){this._ensureArrayBuffer(2),this._offset%2===1&&this._offset++,this._f64View[this._offset/2]=o,this._offset+=2}float(o){this._ensureArrayBuffer(1),this._f32View[this._offset]=o,this._offset++}int32Array(o){this._ensureArrayBuffer(o.length);for(let r=0;r<o.length;++r)this._i32View[this._offset+r]=o[r];this._offset+=o.length}float32Array(o){this._ensureArrayBuffer(o.length);for(let r=0;r<o.length;++r)this._f32View[this._offset+r]=o[r];this._offset+=o.length}booleanArray(o){this._ensureArrayBuffer(o.length);for(let r=0;r<o.length;++r)this._i32View[this._offset+r]=o[r]?1:0;this._offset+=o.length}uint8ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.byteLength,this._offset++,this._u8View.set(o,this._offset*4),this._offset+=o.byteLength>>2,o.byteLength&3&&this._offset++}arrayBuffer(o){let r=new Uint8Array(o);this.uint8ArrayBuffer(r)}uint8ClampedArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.byteLength,this._offset++,this._u8cView.set(o,this._offset*4),this._offset+=o.byteLength>>2,o.byteLength&3&&this._offset++}float32ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.length,this._offset++,this._f32View.set(o,this._offset),this._offset+=o.length}uint16ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.length,this._offset++;let r=this._offset*2;this._u16View.set(o,r),this._offset+=o.length>>1,o.length&1&&this._offset++}int32ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.length,this._offset++,this._i32View.set(o,this._offset),this._offset+=o.length}uint32ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.length,this._offset++,this._u32View.set(o,this._offset),this._offset+=o.length}string(o){let c=new TextEncoder().encode(o);this._ensureArrayBuffer(c.byteLength/4),this._i32View[this._offset]=c.byteLength,this._offset++,this._u8View.set(c,this._offset*4),this._offset+=c.byteLength>>2,c.byteLength&3&&this._offset++}}class pi{constructor(){this._buffer=new ArrayBuffer(0),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,this._startOffset=-1,this._processor={int:()=>this._i32View[this._startOffset++],bool:()=>this._i32View[this._startOffset++]===1,type:()=>this._i32View[this._startOffset++],float:()=>this._f32View[this._startOffset++],timestamp:()=>{this._startOffset%2===1&&this._startOffset++;let o=this._f64View[this._startOffset/2];return this._startOffset+=2,o},string:()=>{let o=this._i32View[this._startOffset++],c=new TextDecoder().decode(new Uint8Array(this._buffer,this._startOffset*4,o));return this._startOffset+=o>>2,o&3&&this._startOffset++,c},dataWithLength:()=>{let o=this._i32View[this._startOffset++],r=new Uint8Array(o);return r.set(this._u8View.subarray(this._startOffset*4,this._startOffset*4+o)),this._startOffset+=r.byteLength>>2,r.byteLength&3&&this._startOffset++,r.buffer},matrix4x4:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+16)),this._startOffset+=o,r},matrix3x3:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+9)),this._startOffset+=o,r},identityCoefficients:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+50)),this._startOffset+=o,r},expressionCoefficients:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+29)),this._startOffset+=o,r},cameraModel:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+6)),this._startOffset+=o,r},barcodeFormat:()=>this._i32View[this._startOffset++],faceLandmarkName:()=>this._i32View[this._startOffset++],instantTrackerTransformOrientation:()=>this._i32View[this._startOffset++],logLevel:()=>this._i32View[this._startOffset++]}}setData(o){this._buffer=o,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,o.byteLength>=4&&(this._offset=1,this._length=this._i32View[0]),this._startOffset=-1}hasMessage(){return this._offset+1<this._length}forMessages(o){for(;this.hasMessage();){let r=this._i32View[this._offset],c=this._i32View[this._offset+1];this._startOffset=this._offset+2,this._offset+=r,o(c,this._processor)}}}class di{constructor(o,r){this._impl=o,this._sender=r,this._deserializer=new pi,this.serializersByPipelineId=new Map,this._pipeline_id_by_pipeline_id=new Map,this._pipeline_by_instance=new Map,this._pipeline_id_by_camera_source_id=new Map,this._camera_source_by_instance=new Map,this._pipeline_id_by_sequence_source_id=new Map,this._sequence_source_by_instance=new Map,this._pipeline_id_by_image_tracker_id=new Map,this._image_tracker_by_instance=new Map,this._pipeline_id_by_face_tracker_id=new Map,this._face_tracker_by_instance=new Map,this._pipeline_id_by_face_mesh_id=new Map,this._face_mesh_by_instance=new Map,this._pipeline_id_by_face_landmark_id=new Map,this._face_landmark_by_instance=new Map,this._pipeline_id_by_barcode_finder_id=new Map,this._barcode_finder_by_instance=new Map,this._pipeline_id_by_instant_world_tracker_id=new Map,this._instant_world_tracker_by_instance=new Map}processBuffer(o){this._deserializer.setData(o),this._deserializer.forMessages((r,c)=>{switch(r){case 34:{this._impl.log_level_set(c.logLevel());break}case 31:{this._impl.analytics_project_id_set(c.string());break}case 27:{let f=c.type(),n=this._impl.pipeline_create();this._pipeline_by_instance.set(f,n),this._pipeline_id_by_pipeline_id.set(f,f),this.serializersByPipelineId.set(f,new li(g=>{this._sender(f,g)}));break}case 28:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_destroy(n),this._pipeline_by_instance.delete(f);break}case 9:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_frame_update(n);break}case 8:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_camera_frame_submit(n,c.dataWithLength(),c.int(),c.int(),c.int(),c.matrix4x4(),c.cameraModel(),c.bool());break}case 10:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_motion_accelerometer_submit(n,c.timestamp(),c.float(),c.float(),c.float());break}case 11:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_motion_rotation_rate_submit(n,c.timestamp(),c.float(),c.float(),c.float());break}case 12:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_motion_attitude_submit(n,c.timestamp(),c.float(),c.float(),c.float());break}case 13:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_motion_attitude_matrix_submit(n,c.matrix4x4());break}case 29:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),H=c.string(),ne=this._impl.camera_source_create(g,H);this._camera_source_by_instance.set(f,ne),this._pipeline_id_by_camera_source_id.set(f,n);break}case 30:{let f=c.type(),n=this._camera_source_by_instance.get(f);if(n===void 0)return;this._impl.camera_source_destroy(n),this._camera_source_by_instance.delete(f);break}case 35:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),H=this._impl.sequence_source_create(g);this._sequence_source_by_instance.set(f,H),this._pipeline_id_by_sequence_source_id.set(f,n);break}case 36:{let f=c.type(),n=this._sequence_source_by_instance.get(f);if(n===void 0)return;this._impl.sequence_source_destroy(n),this._sequence_source_by_instance.delete(f);break}case 2:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),H=this._impl.image_tracker_create(g);this._image_tracker_by_instance.set(f,H),this._pipeline_id_by_image_tracker_id.set(f,n);break}case 14:{let f=c.type(),n=this._image_tracker_by_instance.get(f);if(n===void 0)return;this._impl.image_tracker_destroy(n),this._image_tracker_by_instance.delete(f);break}case 4:{let f=c.type(),n=this._image_tracker_by_instance.get(f);if(n===void 0)return;this._impl.image_tracker_target_load_from_memory(n,c.dataWithLength());break}case 3:{let f=c.type(),n=this._image_tracker_by_instance.get(f);if(n===void 0)return;this._impl.image_tracker_enabled_set(n,c.bool());break}case 20:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),H=this._impl.face_tracker_create(g);this._face_tracker_by_instance.set(f,H),this._pipeline_id_by_face_tracker_id.set(f,n);break}case 21:{let f=c.type(),n=this._face_tracker_by_instance.get(f);if(n===void 0)return;this._impl.face_tracker_destroy(n),this._face_tracker_by_instance.delete(f);break}case 22:{let f=c.type(),n=this._face_tracker_by_instance.get(f);if(n===void 0)return;this._impl.face_tracker_model_load_from_memory(n,c.dataWithLength());break}case 23:{let f=c.type(),n=this._face_tracker_by_instance.get(f);if(n===void 0)return;this._impl.face_tracker_enabled_set(n,c.bool());break}case 24:{let f=c.type(),n=this._face_tracker_by_instance.get(f);if(n===void 0)return;this._impl.face_tracker_max_faces_set(n,c.int());break}case 25:{let f=c.type(),n=this._impl.face_mesh_create();this._face_mesh_by_instance.set(f,n);break}case 26:{let f=c.type(),n=this._face_mesh_by_instance.get(f);if(n===void 0)return;this._impl.face_mesh_destroy(n),this._face_mesh_by_instance.delete(f);break}case 32:{let f=c.type(),n=c.faceLandmarkName(),g=this._impl.face_landmark_create(n);this._face_landmark_by_instance.set(f,g);break}case 33:{let f=c.type(),n=this._face_landmark_by_instance.get(f);if(n===void 0)return;this._impl.face_landmark_destroy(n),this._face_landmark_by_instance.delete(f);break}case 16:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),H=this._impl.barcode_finder_create(g);this._barcode_finder_by_instance.set(f,H),this._pipeline_id_by_barcode_finder_id.set(f,n);break}case 17:{let f=c.type(),n=this._barcode_finder_by_instance.get(f);if(n===void 0)return;this._impl.barcode_finder_destroy(n),this._barcode_finder_by_instance.delete(f);break}case 18:{let f=c.type(),n=this._barcode_finder_by_instance.get(f);if(n===void 0)return;this._impl.barcode_finder_enabled_set(n,c.bool());break}case 19:{let f=c.type(),n=this._barcode_finder_by_instance.get(f);if(n===void 0)return;this._impl.barcode_finder_formats_set(n,c.barcodeFormat());break}case 5:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),H=this._impl.instant_world_tracker_create(g);this._instant_world_tracker_by_instance.set(f,H),this._pipeline_id_by_instant_world_tracker_id.set(f,n);break}case 15:{let f=c.type(),n=this._instant_world_tracker_by_instance.get(f);if(n===void 0)return;this._impl.instant_world_tracker_destroy(n),this._instant_world_tracker_by_instance.delete(f);break}case 6:{let f=c.type(),n=this._instant_world_tracker_by_instance.get(f);if(n===void 0)return;this._impl.instant_world_tracker_enabled_set(n,c.bool());break}case 7:{let f=c.type(),n=this._instant_world_tracker_by_instance.get(f);if(n===void 0)return;this._impl.instant_world_tracker_anchor_pose_set_from_camera_offset_raw(n,c.float(),c.float(),c.float(),c.instantTrackerTransformOrientation());break}}})}exploreState(){for(let[o,r]of this._pipeline_by_instance){let c=this._pipeline_id_by_pipeline_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);f&&(f.sendMessage(7,n=>{n.type(o),n.int(this._impl.pipeline_frame_number(r))}),f.sendMessage(6,n=>{n.type(o),n.cameraModel(this._impl.pipeline_camera_model(r))}),f.sendMessage(5,n=>{n.type(o),n.int(this._impl.pipeline_camera_frame_user_data(r))}),f.sendMessage(11,n=>{n.type(o),n.matrix4x4(this._impl.pipeline_camera_frame_camera_attitude(r))}),f.sendMessage(12,n=>{n.type(o),n.matrix4x4(this._impl.pipeline_camera_frame_device_attitude(r))}))}for(let[o,r]of this._camera_source_by_instance){let c=this._pipeline_id_by_camera_source_id.get(o);!c||this.serializersByPipelineId.get(c)}for(let[o,r]of this._sequence_source_by_instance){let c=this._pipeline_id_by_sequence_source_id.get(o);!c||this.serializersByPipelineId.get(c)}for(let[o,r]of this._image_tracker_by_instance){let c=this._pipeline_id_by_image_tracker_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);if(f){f.sendMessage(19,n=>{n.type(o),n.int(this._impl.image_tracker_target_loaded_version(r))}),f.sendMessage(1,n=>{n.type(o),n.int(this._impl.image_tracker_anchor_count(r))});for(let n=0;n<this._impl.image_tracker_anchor_count(r);n++)f.sendMessage(2,g=>{g.type(o),g.int(n),g.string(this._impl.image_tracker_anchor_id(r,n))});for(let n=0;n<this._impl.image_tracker_anchor_count(r);n++)f.sendMessage(3,g=>{g.type(o),g.int(n),g.matrix4x4(this._impl.image_tracker_anchor_pose_raw(r,n))})}}for(let[o,r]of this._face_tracker_by_instance){let c=this._pipeline_id_by_face_tracker_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);if(f){f.sendMessage(18,n=>{n.type(o),n.int(this._impl.face_tracker_model_loaded_version(r))}),f.sendMessage(13,n=>{n.type(o),n.int(this._impl.face_tracker_anchor_count(r))});for(let n=0;n<this._impl.face_tracker_anchor_count(r);n++)f.sendMessage(14,g=>{g.type(o),g.int(n),g.string(this._impl.face_tracker_anchor_id(r,n))});for(let n=0;n<this._impl.face_tracker_anchor_count(r);n++)f.sendMessage(15,g=>{g.type(o),g.int(n),g.matrix4x4(this._impl.face_tracker_anchor_pose_raw(r,n))});for(let n=0;n<this._impl.face_tracker_anchor_count(r);n++)f.sendMessage(16,g=>{g.type(o),g.int(n),g.identityCoefficients(this._impl.face_tracker_anchor_identity_coefficients(r,n))});for(let n=0;n<this._impl.face_tracker_anchor_count(r);n++)f.sendMessage(17,g=>{g.type(o),g.int(n),g.expressionCoefficients(this._impl.face_tracker_anchor_expression_coefficients(r,n))})}}for(let[o,r]of this._face_mesh_by_instance){let c=this._pipeline_id_by_face_mesh_id.get(o);!c||this.serializersByPipelineId.get(c)}for(let[o,r]of this._face_landmark_by_instance){let c=this._pipeline_id_by_face_landmark_id.get(o);!c||this.serializersByPipelineId.get(c)}for(let[o,r]of this._barcode_finder_by_instance){let c=this._pipeline_id_by_barcode_finder_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);if(f){f.sendMessage(8,n=>{n.type(o),n.int(this._impl.barcode_finder_found_number(r))});for(let n=0;n<this._impl.barcode_finder_found_number(r);n++)f.sendMessage(9,g=>{g.type(o),g.int(n),g.string(this._impl.barcode_finder_found_text(r,n))});for(let n=0;n<this._impl.barcode_finder_found_number(r);n++)f.sendMessage(10,g=>{g.type(o),g.int(n),g.barcodeFormat(this._impl.barcode_finder_found_format(r,n))})}}for(let[o,r]of this._instant_world_tracker_by_instance){let c=this._pipeline_id_by_instant_world_tracker_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);f&&f.sendMessage(4,n=>{n.type(o),n.matrix4x4(this._impl.instant_world_tracker_anchor_pose_raw(r))})}}}class hi{constructor(){this._funcs=[]}bind(o){this._funcs.push(o)}unbind(o){let r=this._funcs.indexOf(o);r>-1&&this._funcs.splice(r,1)}emit(){for(var o=0,r=this._funcs.length;o<r;o++)this._funcs[o]()}}class mi{constructor(){this._funcs=[]}bind(o){this._funcs.push(o)}unbind(o){let r=this._funcs.indexOf(o);r>-1&&this._funcs.splice(r,1)}emit(o){for(var r=0,c=this._funcs.length;r<c;r++)this._funcs[r](o)}}class wi{constructor(){this.onOutgoingMessage=new hi,this.onIncomingMessage=new mi,this._outgoingMessages=[]}postIncomingMessage(o){this.onIncomingMessage.emit(o)}postOutgoingMessage(o,r){this._outgoingMessages.push({msg:o,transferables:r}),this.onOutgoingMessage.emit()}getOutgoingMessages(){let o=this._outgoingMessages;return this._outgoingMessages=[],o}}var Tr=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var s=0,o=arguments.length;o--;)s+=arguments[o]*arguments[o];return Math.sqrt(s)});function tr(){var s=new Tr(16);return Tr!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s}function bi(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function gi(s,o){return s[0]=o[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=o[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}var xr;(function(s){s[s.UNKNOWN=131072]="UNKNOWN",s[s.AZTEC=1]="AZTEC",s[s.CODABAR=2]="CODABAR",s[s.CODE_39=4]="CODE_39",s[s.CODE_93=8]="CODE_93",s[s.CODE_128=16]="CODE_128",s[s.DATA_MATRIX=32]="DATA_MATRIX",s[s.EAN_8=64]="EAN_8",s[s.EAN_13=128]="EAN_13",s[s.ITF=256]="ITF",s[s.MAXICODE=512]="MAXICODE",s[s.PDF_417=1024]="PDF_417",s[s.QR_CODE=2048]="QR_CODE",s[s.RSS_14=4096]="RSS_14",s[s.RSS_EXPANDED=8192]="RSS_EXPANDED",s[s.UPC_A=16384]="UPC_A",s[s.UPC_E=32768]="UPC_E",s[s.UPC_EAN_EXTENSION=65536]="UPC_EAN_EXTENSION",s[s.ALL=131071]="ALL"})(xr||(xr={}));var Rr;(function(s){s[s.EYE_LEFT=0]="EYE_LEFT",s[s.EYE_RIGHT=1]="EYE_RIGHT",s[s.EAR_LEFT=2]="EAR_LEFT",s[s.EAR_RIGHT=3]="EAR_RIGHT",s[s.NOSE_BRIDGE=4]="NOSE_BRIDGE",s[s.NOSE_TIP=5]="NOSE_TIP",s[s.NOSE_BASE=6]="NOSE_BASE",s[s.LIP_TOP=7]="LIP_TOP",s[s.LIP_BOTTOM=8]="LIP_BOTTOM",s[s.MOUTH_CENTER=9]="MOUTH_CENTER",s[s.CHIN=10]="CHIN",s[s.EYEBROW_LEFT=11]="EYEBROW_LEFT",s[s.EYEBROW_RIGHT=12]="EYEBROW_RIGHT"})(Rr||(Rr={}));var kr;(function(s){s[s.WORLD=3]="WORLD",s[s.MINUS_Z_AWAY_FROM_USER=4]="MINUS_Z_AWAY_FROM_USER",s[s.MINUS_Z_HEADING=5]="MINUS_Z_HEADING",s[s.UNCHANGED=6]="UNCHANGED"})(kr||(kr={}));var zr;(function(s){s[s.LOG_LEVEL_NONE=0]="LOG_LEVEL_NONE",s[s.LOG_LEVEL_ERROR=1]="LOG_LEVEL_ERROR",s[s.LOG_LEVEL_WARNING=2]="LOG_LEVEL_WARNING",s[s.LOG_LEVEL_VERBOSE=3]="LOG_LEVEL_VERBOSE"})(zr||(zr={}));var Ce;(function(s){s[s.FRAME_PIXEL_FORMAT_I420=0]="FRAME_PIXEL_FORMAT_I420",s[s.FRAME_PIXEL_FORMAT_I420A=1]="FRAME_PIXEL_FORMAT_I420A",s[s.FRAME_PIXEL_FORMAT_I422=2]="FRAME_PIXEL_FORMAT_I422",s[s.FRAME_PIXEL_FORMAT_I444=3]="FRAME_PIXEL_FORMAT_I444",s[s.FRAME_PIXEL_FORMAT_NV12=4]="FRAME_PIXEL_FORMAT_NV12",s[s.FRAME_PIXEL_FORMAT_RGBA=5]="FRAME_PIXEL_FORMAT_RGBA",s[s.FRAME_PIXEL_FORMAT_BGRA=6]="FRAME_PIXEL_FORMAT_BGRA",s[s.FRAME_PIXEL_FORMAT_Y=7]="FRAME_PIXEL_FORMAT_Y"})(Ce||(Ce={}));var Lr;(function(s){s[s.IMAGE_TRACKER_TYPE_PLANAR=0]="IMAGE_TRACKER_TYPE_PLANAR",s[s.IMAGE_TRACKER_TYPE_CYLINDRICAL=1]="IMAGE_TRACKER_TYPE_CYLINDRICAL",s[s.IMAGE_TRACKER_TYPE_CONICAL=2]="IMAGE_TRACKER_TYPE_CONICAL"})(Lr||(Lr={}));const Fr=new Map;class rr{constructor(o){this._gl=o,this._viewports=[],this._underlyingViewport=this._gl.viewport,this._viewports.push(this._gl.getParameter(this._gl.VIEWPORT)),this._gl.viewport=(r,c,f,n)=>{this._viewports[this._viewports.length-1]=[r,c,f,n],this._underlyingViewport.call(this._gl,r,c,f,n)}}static get(o){let r=Fr.get(o);return r||(r=new rr(o),Fr.set(o,r)),r}push(){this._viewports.push(this._viewports[this._viewports.length-1])}pop(){const o=this._viewports.pop(),r=this._viewports[this._viewports.length-1];(!o||o[0]!==r[0]||o[1]!==r[1]||o[2]!==r[2]||o[3]!==r[3])&&this._underlyingViewport.call(this._gl,r[0],r[1],r[2],r[3])}}var yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ir={exports:{}};(function(s,o){(function(r,c){var f="0.7.30",n="",g="?",H="function",ne="undefined",J="object",ie="string",he="major",b="model",T="name",y="type",v="vendor",R="version",se="architecture",oe="console",D="mobile",S="tablet",fe="smarttv",Oe="wearable",Xe="embedded",Ae=255,ee="Amazon",L="Apple",Ve="ASUS",Ne="BlackBerry",le="Browser",ke="Chrome",ae="Edge",Z="Firefox",ge="Google",Q="Huawei",m="LG",C="Microsoft",Pe="Motorola",Te="Opera",Ge="Samsung",_e="Sony",ze="Xiaomi",xe="Zebra",ot="Facebook",_t=function(V,j){var Y={};for(var re in V)j[re]&&j[re].length%2===0?Y[re]=j[re].concat(V[re]):Y[re]=V[re];return Y},$e=function(V){var j={};for(var Y in V)j[V[Y].toUpperCase()]=V[Y];return j},Le=function(V,j){return typeof V===ie?Re(j).indexOf(Re(V))!==-1:!1},Re=function(V){return V.toLowerCase()},ct=function(V){return typeof V===ie?V.replace(/[^\d\.]/g,n).split(".")[0]:c},je=function(V,j){if(typeof V===ie)return V=V.replace(/^\s\s*/,n).replace(/\s\s*$/,n),typeof j===ne?V:V.substring(0,Ae)},$=function(V,j){for(var Y=0,re,U,pe,N,qe,ce;Y<j.length&&!qe;){var Be=j[Y],w=j[Y+1];for(re=U=0;re<Be.length&&!qe;)if(qe=Be[re++].exec(V),qe)for(pe=0;pe<w.length;pe++)ce=qe[++U],N=w[pe],typeof N===J&&N.length>0?N.length==2?typeof N[1]==H?this[N[0]]=N[1].call(this,ce):this[N[0]]=N[1]:N.length==3?typeof N[1]===H&&!(N[1].exec&&N[1].test)?this[N[0]]=ce?N[1].call(this,ce,N[2]):c:this[N[0]]=ce?ce.replace(N[1],N[2]):c:N.length==4&&(this[N[0]]=ce?N[3].call(this,ce.replace(N[1],N[2])):c):this[N]=ce||c;Y+=2}},Fe=function(V,j){for(var Y in j)if(typeof j[Y]===J&&j[Y].length>0){for(var re=0;re<j[Y].length;re++)if(Le(j[Y][re],V))return Y===g?c:Y}else if(Le(j[Y],V))return Y===g?c:Y;return V},ut={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ft={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[R,[T,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[R,[T,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[T,R],[/opios[\/ ]+([\w\.]+)/i],[R,[T,Te+" Mini"]],[/\bopr\/([\w\.]+)/i],[R,[T,Te]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[T,R],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[R,[T,"UC"+le]],[/\bqbcore\/([\w\.]+)/i],[R,[T,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[R,[T,"WeChat"]],[/konqueror\/([\w\.]+)/i],[R,[T,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[R,[T,"IE"]],[/yabrowser\/([\w\.]+)/i],[R,[T,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[T,/(.+)/,"$1 Secure "+le],R],[/\bfocus\/([\w\.]+)/i],[R,[T,Z+" Focus"]],[/\bopt\/([\w\.]+)/i],[R,[T,Te+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[R,[T,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[R,[T,"Dolphin"]],[/coast\/([\w\.]+)/i],[R,[T,Te+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[R,[T,"MIUI "+le]],[/fxios\/([-\w\.]+)/i],[R,[T,Z]],[/\bqihu|(qi?ho?o?|360)browser/i],[[T,"360 "+le]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[T,/(.+)/,"$1 "+le],R],[/(comodo_dragon)\/([\w\.]+)/i],[[T,/_/g," "],R],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[T,R],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[T],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[T,ot],R],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[T,R],[/\bgsa\/([\w\.]+) .*safari\//i],[R,[T,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[R,[T,ke+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[T,ke+" WebView"],R],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[R,[T,"Android "+le]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[T,R],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[R,[T,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[R,T],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[T,[R,Fe,ut]],[/(webkit|khtml)\/([\w\.]+)/i],[T,R],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[T,"Netscape"],R],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[R,[T,Z+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[T,R]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[se,"amd64"]],[/(ia32(?=;))/i],[[se,Re]],[/((?:i[346]|x)86)[;\)]/i],[[se,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[se,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[se,"armhf"]],[/windows (ce|mobile); ppc;/i],[[se,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[se,/ower/,n,Re]],[/(sun4\w)[;\)]/i],[[se,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[se,Re]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[b,[v,Ge],[y,S]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[b,[v,Ge],[y,D]],[/\((ip(?:hone|od)[\w ]*);/i],[b,[v,L],[y,D]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[b,[v,L],[y,S]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[b,[v,Q],[y,S]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[b,[v,Q],[y,D]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[b,/_/g," "],[v,ze],[y,D]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[b,/_/g," "],[v,ze],[y,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[b,[v,"OPPO"],[y,D]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[b,[v,"Vivo"],[y,D]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[b,[v,"Realme"],[y,D]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[b,[v,Pe],[y,D]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[b,[v,Pe],[y,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[b,[v,m],[y,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[b,[v,m],[y,D]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[b,[v,"Lenovo"],[y,S]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[b,/_/g," "],[v,"Nokia"],[y,D]],[/(pixel c)\b/i],[b,[v,ge],[y,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[b,[v,ge],[y,D]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[b,[v,_e],[y,D]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[b,"Xperia Tablet"],[v,_e],[y,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[b,[v,"OnePlus"],[y,D]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[b,[v,ee],[y,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[b,/(.+)/g,"Fire Phone $1"],[v,ee],[y,D]],[/(playbook);[-\w\),; ]+(rim)/i],[b,v,[y,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[b,[v,Ne],[y,D]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[b,[v,Ve],[y,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[b,[v,Ve],[y,D]],[/(nexus 9)/i],[b,[v,"HTC"],[y,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[v,[b,/_/g," "],[y,D]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[b,[v,"Acer"],[y,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[b,[v,"Meizu"],[y,D]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[b,[v,"Sharp"],[y,D]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,b,[y,D]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,b,[y,S]],[/(surface duo)/i],[b,[v,C],[y,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[b,[v,"Fairphone"],[y,D]],[/(u304aa)/i],[b,[v,"AT&T"],[y,D]],[/\bsie-(\w*)/i],[b,[v,"Siemens"],[y,D]],[/\b(rct\w+) b/i],[b,[v,"RCA"],[y,S]],[/\b(venue[\d ]{2,7}) b/i],[b,[v,"Dell"],[y,S]],[/\b(q(?:mv|ta)\w+) b/i],[b,[v,"Verizon"],[y,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[b,[v,"Barnes & Noble"],[y,S]],[/\b(tm\d{3}\w+) b/i],[b,[v,"NuVision"],[y,S]],[/\b(k88) b/i],[b,[v,"ZTE"],[y,S]],[/\b(nx\d{3}j) b/i],[b,[v,"ZTE"],[y,D]],[/\b(gen\d{3}) b.+49h/i],[b,[v,"Swiss"],[y,D]],[/\b(zur\d{3}) b/i],[b,[v,"Swiss"],[y,S]],[/\b((zeki)?tb.*\b) b/i],[b,[v,"Zeki"],[y,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],b,[y,S]],[/\b(ns-?\w{0,9}) b/i],[b,[v,"Insignia"],[y,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[b,[v,"NextBook"],[y,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],b,[y,D]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],b,[y,D]],[/\b(ph-1) /i],[b,[v,"Essential"],[y,D]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[b,[v,"Envizen"],[y,S]],[/\b(trio[-\w\. ]+) b/i],[b,[v,"MachSpeed"],[y,S]],[/\btu_(1491) b/i],[b,[v,"Rotor"],[y,S]],[/(shield[\w ]+) b/i],[b,[v,"Nvidia"],[y,S]],[/(sprint) (\w+)/i],[v,b,[y,D]],[/(kin\.[onetw]{3})/i],[[b,/\./g," "],[v,C],[y,D]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[b,[v,xe],[y,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[b,[v,xe],[y,D]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,b,[y,oe]],[/droid.+; (shield) bui/i],[b,[v,"Nvidia"],[y,oe]],[/(playstation [345portablevi]+)/i],[b,[v,_e],[y,oe]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[b,[v,C],[y,oe]],[/smart-tv.+(samsung)/i],[v,[y,fe]],[/hbbtv.+maple;(\d+)/i],[[b,/^/,"SmartTV"],[v,Ge],[y,fe]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,m],[y,fe]],[/(apple) ?tv/i],[v,[b,L+" TV"],[y,fe]],[/crkey/i],[[b,ke+"cast"],[v,ge],[y,fe]],[/droid.+aft(\w)( bui|\))/i],[b,[v,ee],[y,fe]],[/\(dtv[\);].+(aquos)/i],[b,[v,"Sharp"],[y,fe]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,je],[b,je],[y,fe]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,fe]],[/((pebble))app/i],[v,b,[y,Oe]],[/droid.+; (glass) \d/i],[b,[v,ge],[y,Oe]],[/droid.+; (wt63?0{2,3})\)/i],[b,[v,xe],[y,Oe]],[/(quest( 2)?)/i],[b,[v,ot],[y,Oe]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[y,Xe]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[b,[y,D]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[b,[y,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,S]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[y,D]],[/(android[-\w\. ]{0,9});.+buil/i],[b,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[R,[T,ae+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[R,[T,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[T,R],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[R,T]],os:[[/microsoft (windows) (vista|xp)/i],[T,R],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[T,[R,Fe,ft]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[T,"Windows"],[R,Fe,ft]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[R,/_/g,"."],[T,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[T,"Mac OS"],[R,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[R,T],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[T,R],[/\(bb(10);/i],[R,[T,Ne]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[R,[T,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[R,[T,Z+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[R,[T,"webOS"]],[/crkey\/([\d\.]+)/i],[R,[T,ke+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[T,"Chromium OS"],R],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[T,R],[/(sunos) ?([\w\.\d]*)/i],[[T,"Solaris"],R],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[T,R]]},K=function(V,j){if(typeof V===J&&(j=V,V=c),!(this instanceof K))return new K(V,j).getResult();var Y=V||(typeof r!==ne&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:n),re=j?_t(G,j):G;return this.getBrowser=function(){var U={};return U[T]=c,U[R]=c,$.call(U,Y,re.browser),U.major=ct(U.version),U},this.getCPU=function(){var U={};return U[se]=c,$.call(U,Y,re.cpu),U},this.getDevice=function(){var U={};return U[v]=c,U[b]=c,U[y]=c,$.call(U,Y,re.device),U},this.getEngine=function(){var U={};return U[T]=c,U[R]=c,$.call(U,Y,re.engine),U},this.getOS=function(){var U={};return U[T]=c,U[R]=c,$.call(U,Y,re.os),U},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Y},this.setUA=function(U){return Y=typeof U===ie&&U.length>Ae?je(U,Ae):U,this},this.setUA(Y),this};K.VERSION=f,K.BROWSER=$e([T,R,he]),K.CPU=$e([se]),K.DEVICE=$e([b,v,y,oe,D,fe,S,Oe,Xe]),K.ENGINE=K.OS=$e([T,R]),s.exports&&(o=s.exports=K),o.UAParser=K;var We=typeof r!==ne&&(r.jQuery||r.Zepto);if(We&&!We.ua){var Se=new K;We.ua=Se.getResult(),We.ua.get=function(){return Se.getUA()},We.ua.set=function(V){Se.setUA(V);var j=Se.getResult();for(var Y in j)We.ua[Y]=j[Y]}}})(typeof window=="object"?window:yi)})(ir,ir.exports);var vi=ir.exports,Mr;(function(s){s[s.OBJECT_URL=0]="OBJECT_URL",s[s.SRC_OBJECT=1]="SRC_OBJECT"})(Mr||(Mr={}));let te={deviceMotionMutliplier:-1,blacklisted:!1,showGyroPermissionsWarningIfNecessary:!1,showSafariPermissionsResetIfNecessary:!1,requestHighFrameRate:!1,videoWidth:640,videoHeight:480,dataWidth:320,dataHeight:240,videoElementInDOM:!1,preferMediaStreamTrackProcessorCamera:!1,preferImageBitmapCamera:!1};typeof window<"u"&&(window.zeeProfile=te,window.location.href.indexOf("_mstppipeline")>=0&&(console.log("Configuring for MSTP camera pipeline (if supported)"),te.preferMediaStreamTrackProcessorCamera=!0),window.location.href.indexOf("_imagebitmappipeline")>=0&&(console.log("Configuring for ImageBitmap camera pipeline (if supported)"),te.preferImageBitmapCamera=!0));let nr=new vi.UAParser,Ir=(nr.getOS().name||"unknown").toLowerCase(),Or=(nr.getEngine().name||"unknown").toLowerCase();if(Or==="webkit"&&Ir!=="ios"&&(te.deviceMotionMutliplier=1,typeof window<"u"&&window.orientation!==void 0&&Pr("15.0")),Or==="webkit"&&Ir==="ios"){te.deviceMotionMutliplier=1;const s=nr.getOS().version||"15.0";Pr(s)}function Pr(s){let o=s.split(".");if(o.length>=2){const r=parseInt(o[0]),c=parseInt(o[1]);(r<11||r===11&&c<3)&&(te.blacklisted=!0),(r<12||r===12&&c<2)&&(te.videoElementInDOM=!0),(r===12&&c>=2||r>=13)&&(te.showGyroPermissionsWarningIfNecessary=!0),r>=13&&(te.showSafariPermissionsResetIfNecessary=!0),(r>=12&&c>1||r>=13)&&navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints().frameRate&&(te.requestHighFrameRate=!0,r<14&&(te.videoHeight=360,te.dataHeight=180))}}function Sr(s,o,r){let c=s.createShader(o);if(!c)throw new Error("Unable to create shader");s.shaderSource(c,r),s.compileShader(c);let f=s.getShaderInfoLog(c);if(f&&f.trim().length>0)throw new Error("Shader compile error: "+f);return c}function Ei(s,o){s.linkProgram(o);let r=s.getProgramInfoLog(o);if(r&&r.trim().length>0)throw new Error("Unable to link: "+r)}class Ai{constructor(o){this._gl=o,this._isPaused=!0,this._hadFrames=!1,this._isUserFacing=!1,this._cameraToScreenRotation=0,this._isUploadFrame=!0,this._computedTransformRotation=-1,this._computedFrontCameraRotation=!1,this._cameraUvTransform=tr(),this._framebufferWidth=0,this._framebufferHeight=0,this._framebufferId=null,this._renderTexture=null,this._isWebGL2=!1,this._isWebGL2=o.getParameter(o.VERSION).indexOf("WebGL 2")>=0,this._isWebGL2||(this._instancedArraysExtension=this._gl.getExtension("ANGLE_instanced_arrays"))}resetGLContext(){this._framebufferId=null,this._renderTexture=null,this._vertexBuffer=void 0,this._indexBuffer=void 0,this._greyscaleShader=void 0}destroy(){this.resetGLContext()}uploadFrame(o,r,c,f){let n=this._gl;const g=rr.get(n);g.push();const H=n.isEnabled(n.SCISSOR_TEST),ne=n.isEnabled(n.DEPTH_TEST),J=n.isEnabled(n.BLEND),ie=n.isEnabled(n.CULL_FACE),he=n.isEnabled(n.STENCIL_TEST),b=n.getParameter(n.ACTIVE_TEXTURE),T=n.getParameter(n.UNPACK_FLIP_Y_WEBGL),y=n.getParameter(n.CURRENT_PROGRAM);n.activeTexture(n.TEXTURE0);const v=n.getParameter(n.TEXTURE_BINDING_2D),R=n.getParameter(n.FRAMEBUFFER_BINDING),se=n.getParameter(n.ARRAY_BUFFER_BINDING),oe=n.getParameter(n.ELEMENT_ARRAY_BUFFER_BINDING);n.disable(n.SCISSOR_TEST),n.disable(n.DEPTH_TEST),n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.STENCIL_TEST),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),n.bindTexture(n.TEXTURE_2D,o);const D=0,S=n.RGBA,fe=n.RGBA,Oe=n.UNSIGNED_BYTE;n.texImage2D(n.TEXTURE_2D,D,S,fe,Oe,r),typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement?(r.videoWidth,r.videoHeight):(r.width,r.height),this._updateTransforms(c,f);let Xe=this._getFramebuffer(n,te.dataWidth/4,te.dataHeight),Ae=this._getVertexBuffer(n),ee=this._getIndexBuffer(n),L=this._getGreyscaleShader(n);const Ve=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_SIZE),Ne=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_TYPE),le=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_NORMALIZED),ke=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_STRIDE),ae=n.getVertexAttribOffset(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_POINTER),Z=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_ENABLED),ge=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING),Q=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_SIZE),m=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_TYPE),C=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_NORMALIZED),Pe=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_STRIDE),Te=n.getVertexAttribOffset(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_POINTER),Ge=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING),_e=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_ENABLED);let ze=0,xe=0;this._isWebGL2?(ze=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_DIVISOR),xe=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_DIVISOR),n.vertexAttribDivisor(L.aVertexPositionLoc,0),n.vertexAttribDivisor(L.aTextureCoordLoc,0)):this._instancedArraysExtension&&(ze=n.getVertexAttrib(L.aVertexPositionLoc,this._instancedArraysExtension.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),xe=n.getVertexAttrib(L.aTextureCoordLoc,this._instancedArraysExtension.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),this._instancedArraysExtension.vertexAttribDivisorANGLE(L.aVertexPositionLoc,0),this._instancedArraysExtension.vertexAttribDivisorANGLE(L.aTextureCoordLoc,0)),n.bindFramebuffer(n.FRAMEBUFFER,Xe),n.viewport(0,0,this._framebufferWidth,this._framebufferHeight),n.clear(n.COLOR_BUFFER_BIT),n.bindBuffer(n.ARRAY_BUFFER,Ae),n.vertexAttribPointer(L.aVertexPositionLoc,2,n.FLOAT,!1,4*4,0),n.enableVertexAttribArray(L.aVertexPositionLoc),n.vertexAttribPointer(L.aTextureCoordLoc,2,n.FLOAT,!1,4*4,2*4),n.enableVertexAttribArray(L.aTextureCoordLoc),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,ee),n.useProgram(L.program),n.uniform1f(L.uTexWidthLoc,te.dataWidth),n.uniformMatrix4fv(L.uUvTransformLoc,!1,this._cameraUvTransform),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,o),n.uniform1i(L.uSamplerLoc,0),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),n.bindBuffer(n.ARRAY_BUFFER,ge),n.vertexAttribPointer(L.aVertexPositionLoc,Ve,Ne,le,ke,ae),n.bindBuffer(n.ARRAY_BUFFER,Ge),n.vertexAttribPointer(L.aTextureCoordLoc,Q,m,C,Pe,Te),n.bindBuffer(n.ARRAY_BUFFER,se),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,oe),Z||n.disableVertexAttribArray(L.aVertexPositionLoc),_e||n.disableVertexAttribArray(L.aTextureCoordLoc),this._isWebGL2?(n.vertexAttribDivisor(L.aVertexPositionLoc,ze),n.vertexAttribDivisor(L.aTextureCoordLoc,xe)):this._instancedArraysExtension&&(this._instancedArraysExtension.vertexAttribDivisorANGLE(L.aVertexPositionLoc,ze),this._instancedArraysExtension.vertexAttribDivisorANGLE(L.aTextureCoordLoc,xe)),n.bindFramebuffer(n.FRAMEBUFFER,R),n.useProgram(y),n.bindTexture(n.TEXTURE_2D,v),n.activeTexture(b),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T),g.pop(),J&&n.enable(n.BLEND),ie&&n.enable(n.CULL_FACE),ne&&n.enable(n.DEPTH_TEST),H&&n.enable(n.SCISSOR_TEST),he&&n.enable(n.STENCIL_TEST)}readFrame(o,r){let c=this._gl,f=new Uint8Array(r);const n=c.getParameter(c.FRAMEBUFFER_BINDING);let g=this._getFramebuffer(c,te.dataWidth/4,te.dataHeight);return c.bindFramebuffer(c.FRAMEBUFFER,g),c.readPixels(0,0,this._framebufferWidth,this._framebufferHeight,c.RGBA,c.UNSIGNED_BYTE,f),c.bindFramebuffer(c.FRAMEBUFFER,n),{uvTransform:this._cameraUvTransform,data:r,texture:o,dataWidth:te.dataWidth,dataHeight:te.dataHeight,userFacing:this._computedFrontCameraRotation}}_updateTransforms(o,r){o==this._computedTransformRotation&&r==this._computedFrontCameraRotation||(this._computedTransformRotation=o,this._computedFrontCameraRotation=r,this._cameraUvTransform=this._getCameraUvTransform())}_getCameraUvTransform(){switch(this._computedTransformRotation){case 270:return new Float32Array([0,1,0,0,-1,0,0,0,0,0,1,0,1,0,0,1]);case 180:return new Float32Array([-1,0,0,0,0,-1,0,0,0,0,1,0,1,1,0,1]);case 90:return new Float32Array([0,-1,0,0,1,0,0,0,0,0,1,0,0,1,0,1])}return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}_getFramebuffer(o,r,c){if(this._framebufferWidth===r&&this._framebufferHeight===c&&this._framebufferId)return this._framebufferId;if(this._framebufferId&&(o.deleteFramebuffer(this._framebufferId),this._framebufferId=null),this._renderTexture&&(o.deleteTexture(this._renderTexture),this._renderTexture=null),this._framebufferId=o.createFramebuffer(),!this._framebufferId)throw new Error("Unable to create framebuffer");if(o.bindFramebuffer(o.FRAMEBUFFER,this._framebufferId),this._renderTexture=o.createTexture(),!this._renderTexture)throw new Error("Unable to create render texture");o.activeTexture(o.TEXTURE0);const f=o.getParameter(o.TEXTURE_BINDING_2D);o.bindTexture(o.TEXTURE_2D,this._renderTexture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,r,c,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameterf(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this._renderTexture,0);let n=o.checkFramebufferStatus(o.FRAMEBUFFER);if(n!==o.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer not complete: "+n.toString());return this._framebufferWidth=r,this._framebufferHeight=c,o.bindTexture(o.TEXTURE_2D,f),o.bindFramebuffer(o.FRAMEBUFFER,null),this._framebufferId}_getVertexBuffer(o){if(this._vertexBuffer)return this._vertexBuffer;if(this._vertexBuffer=o.createBuffer(),!this._vertexBuffer)throw new Error("Unable to create vertex buffer");o.bindBuffer(o.ARRAY_BUFFER,this._vertexBuffer);let r=new Float32Array([-1,-1,0,0,-1,1,0,1,1,1,1,1,1,-1,1,0]);return o.bufferData(o.ARRAY_BUFFER,r,o.STATIC_DRAW),this._vertexBuffer}_getIndexBuffer(o){if(this._indexBuffer)return this._indexBuffer;if(this._indexBuffer=o.createBuffer(),!this._indexBuffer)throw new Error("Unable to create index buffer");o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this._indexBuffer);let r=new Uint16Array([0,1,2,0,2,3]);return o.bufferData(o.ELEMENT_ARRAY_BUFFER,r,o.STATIC_DRAW),this._indexBuffer}_getGreyscaleShader(o){if(this._greyscaleShader)return this._greyscaleShader;let r=o.createProgram();if(!r)throw new Error("Unable to create program");let c=Sr(o,o.VERTEX_SHADER,Ti),f=Sr(o,o.FRAGMENT_SHADER,xi);o.attachShader(r,c),o.attachShader(r,f),Ei(o,r);let n=o.getUniformLocation(r,"uTexWidth");if(!n)throw new Error("Unable to get uniform location uTexWidth");let g=o.getUniformLocation(r,"uUvTransform");if(!g)throw new Error("Unable to get uniform location uUvTransform");let H=o.getUniformLocation(r,"uSampler");if(!H)throw new Error("Unable to get uniform location uSampler");return this._greyscaleShader={program:r,aVertexPositionLoc:o.getAttribLocation(r,"aVertexPosition"),aTextureCoordLoc:o.getAttribLocation(r,"aTextureCoord"),uTexWidthLoc:n,uUvTransformLoc:g,uSamplerLoc:H},this._greyscaleShader}}let Ti=`
    attribute vec4 aVertexPosition;
    attribute vec2 aTextureCoord;

    varying highp vec2 vTextureCoord1;
    varying highp vec2 vTextureCoord2;
    varying highp vec2 vTextureCoord3;
    varying highp vec2 vTextureCoord4;

    uniform float uTexWidth;
	uniform mat4 uUvTransform;

    void main(void) {
      highp vec2 offset1 = vec2(1.5 / uTexWidth, 0);
      highp vec2 offset2 = vec2(0.5 / uTexWidth, 0);

      gl_Position = aVertexPosition;
      vTextureCoord1 = (uUvTransform * vec4(aTextureCoord - offset1, 0, 1)).xy;
      vTextureCoord2 = (uUvTransform * vec4(aTextureCoord - offset2, 0, 1)).xy;
      vTextureCoord3 = (uUvTransform * vec4(aTextureCoord + offset2, 0, 1)).xy;
      vTextureCoord4 = (uUvTransform * vec4(aTextureCoord + offset1, 0, 1)).xy;
    }
`,xi=`
  varying highp vec2 vTextureCoord1;
  varying highp vec2 vTextureCoord2;
  varying highp vec2 vTextureCoord3;
  varying highp vec2 vTextureCoord4;

  uniform sampler2D uSampler;

  const lowp vec3 colorWeights = vec3(77.0 / 256.0, 150.0 / 256.0, 29.0 / 256.0);

  void main(void) {
    lowp vec4 outpx;

    outpx.r = dot(colorWeights, texture2D(uSampler, vTextureCoord1).xyz);
    outpx.g = dot(colorWeights, texture2D(uSampler, vTextureCoord2).xyz);
    outpx.b = dot(colorWeights, texture2D(uSampler, vTextureCoord3).xyz);
    outpx.a = dot(colorWeights, texture2D(uSampler, vTextureCoord4).xyz);

    gl_FragColor = outpx;
  }
`,gt,nt,ar,yt;function Ri(){if(!ar||!yt){if(yt=new OffscreenCanvas(1,1).getContext("webgl"),!yt)throw new Error("Unable to get offscreen GL context");ar=new Ai(yt)}return[ar,yt]}function ki(s,o,r,c){const[f,n]=Ri();if(nt||(nt=n.createTexture(),n.bindTexture(n.TEXTURE_2D,nt),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR)),!nt)return;(!gt||gt.byteLength<te.dataWidth*te.dataHeight)&&(console.log("Generating pixel buffer",te.dataWidth*te.dataHeight),gt=new ArrayBuffer(te.dataWidth*te.dataHeight)),f.uploadFrame(nt,s.i,s.r,s.userFacing);let g=f.readFrame(nt,gt),H={t:"imageBitmapS2C",dataWidth:g.dataWidth,dataHeight:g.dataHeight,frame:s.i,userFacing:g.userFacing,uvTransform:g.uvTransform||tr(),tokenId:s.tokenId,p:s.p};c.postOutgoingMessage(H,[s.i]);let ne=r._pipeline_by_instance.get(s.p);ne&&(o.pipeline_camera_frame_submit(ne,gt,g.dataWidth,g.dataHeight,s.tokenId,s.cameraToDevice,s.cameraModel,g.userFacing),o.pipeline_frame_update(ne),r.exploreState())}var Br=function(s,o,r,c){function f(n){return n instanceof r?n:new r(function(g){g(n)})}return new(r||(r=Promise))(function(n,g){function H(ie){try{J(c.next(ie))}catch(he){g(he)}}function ne(ie){try{J(c.throw(ie))}catch(he){g(he)}}function J(ie){ie.done?n(ie.value):f(ie.value).then(H,ne)}J((c=c.apply(s,o||[])).next())})};let Ue=new wi,sr=0;function zi(s){return Br(this,void 0,void 0,function*(){let o=ui({locateFile:(r,c)=>r.endsWith("zappar-cv.wasm")?s:c+r,onRuntimeInitialized:()=>{let r=fi(o),c=new di(r,(f,n)=>{Ue.postOutgoingMessage({p:f,t:"zappar",d:n},[n])});Ue.postOutgoingMessage("loaded",[]),Ue.onIncomingMessage.bind(f=>{var n;switch(f.t){case"zappar":c.processBuffer(f.d),Ue.postOutgoingMessage({t:"buf",d:f.d},[f.d]);break;case"buf":(n=c.serializersByPipelineId.get(f.p))===null||n===void 0||n.bufferReturn(f.d);break;case"cameraFrameC2S":{let g=f,H=c._pipeline_by_instance.get(g.p),ne;H&&(r.pipeline_camera_frame_submit(H,g.d,g.width,g.height,g.token,g.c2d,g.cm,g.userFacing),r.pipeline_frame_update(H),ne=r.pipeline_camera_frame_device_attitude(H),c.exploreState());let J={token:g.token,d:g.d,p:g.p,t:"cameraFrameRecycleS2C",att:ne};Ue.postOutgoingMessage(J,[g.d]);break}case"streamC2S":{let g=f;Li(o,r,g.s,g.p,g.userFacing,c,g.source);break}case"cameraToScreenC2S":{sr=f.r;break}case"imageBitmapC2S":{ki(f,r,c,Ue);break}}})}})})}let at=0,or=0,Dr=1;const Ot=tr(),st=new Float32Array([300,300,160,120,0,0]);function Li(s,o,r,c,f,n,g){return Br(this,void 0,void 0,function*(){const H=yield r.getReader();for(;;){let ne=yield H.read();if(ne.done){console.log("Stream done");return}let J=ne.value,ie=J.allocationSize();ie>or&&(at>0&&s._free(at),at=s._malloc(ie),or=ie),yield J.copyTo(s.HEAPU8.subarray(at,at+or));let he=Dr;Dr++;const b=J.visibleRect.width,T=J.visibleRect.height;let y,v=b,R=T;switch(sr){case 270:y=new Float32Array([0,1,0,0,-1,0,0,0,0,0,1,0,1,0,0,1]),v=T,R=b;break;case 180:y=new Float32Array([-1,0,0,0,0,-1,0,0,0,0,1,0,1,1,0,1]);break;case 90:y=new Float32Array([0,-1,0,0,1,0,0,0,0,0,1,0,0,1,0,1]),v=T,R=b;break;default:y=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);break}let se=J.clone();f?gi(Ot,[-1,1,-1]):bi(Ot);let oe=300*te.dataWidth/320;st[0]=oe,st[1]=oe,st[2]=te.dataWidth*.5,st[3]=te.dataHeight*.5;const D={token:he,d:se,p:c,t:"videoFrameS2C",userFacing:f,uvTransform:y,w:v,h:R,cameraToDevice:Ot,cameraModel:st,source:g};Ue.postOutgoingMessage(D,[D.d,D.uvTransform.buffer]);const S=n._pipeline_by_instance.get(c);S&&(o.pipeline_camera_frame_submit_raw_pointer(S,at,ie,Fi(J.format),b,T,he,Ot,sr,st,f),o.pipeline_frame_update(S),n.exploreState()),J.close()}})}function Fi(s){switch(s){case"I420":return Ce.FRAME_PIXEL_FORMAT_I420;case"I420A":return Ce.FRAME_PIXEL_FORMAT_I420A;case"I422":return Ce.FRAME_PIXEL_FORMAT_I422;case"I444":return Ce.FRAME_PIXEL_FORMAT_I444;case"NV12":return Ce.FRAME_PIXEL_FORMAT_NV12;case"RGBA":case"RGBX":return Ce.FRAME_PIXEL_FORMAT_RGBA;case"BGRA":case"BGRX":return Ce.FRAME_PIXEL_FORMAT_BGRA}return Ce.FRAME_PIXEL_FORMAT_Y}const Pt=self;Ue.onOutgoingMessage.bind(()=>{let s=Ue.getOutgoingMessages();for(let o of s)Pt.postMessage(o.msg,o.transferables)});let Cr=s=>{if(s&&s.data&&s.data.t==="wasm"){let o=location.href.startsWith("blob")?s.data.url:new URL("/assets/zappar-cv-7223745e.wasm",self.location).toString();zi(o),Pt.removeEventListener("message",Cr)}};Pt.addEventListener("message",Cr),Pt.addEventListener("message",s=>{Ue.postIncomingMessage(s.data)})})();
